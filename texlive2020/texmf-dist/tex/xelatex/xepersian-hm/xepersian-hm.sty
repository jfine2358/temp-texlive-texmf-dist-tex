%%
%% This is file `xepersian-hm.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% xepersian-hm.dtx  (with options: `package')
%% 
%% Copyright (C) 2020 Hossein Movahhedian
%% 
%% It may be distributed and/or modified under the LaTeX Project Public License,
%% version 1.3c or higher (your choice). The latest version of
%% this license is at: http://www.latex-project.org/lppl.txt
%% 
%% File: xepersian-hm.dtx
\NeedsTeXFormat{LaTeX2e}
\RequirePackage{expl3}[2020-03-06]
\@ifpackagelater{expl3}{2020-03-06}
  {}
  {%
    \PackageError{xepersian-hm}{Support package l3kernel too old}
      {%
        Please install an up to date version of l3kernel\MessageBreak
        using your TeX package manager or from CTAN.\MessageBreak
        \MessageBreak
        Loading xtemplate will abort!%
      }%
    \endinput
  }
\RequirePackage{l3keys2e}
\RequirePackage{xepersian}
\ExplSyntaxOn
\ProvidesExplPackage {xepersian-hm} {2020-03-26} {0.4} { Fixes~issues~in~xepersian~package }

\tl_set:Nn \l_kayhan_tl       { kayhan }
\tl_set:Nn \l_khorramshahr_tl { khorramshahr }
\tl_set:Nn \l_kayhannavaar_tl { kayhannavaar }
\tl_set:Nn \l_kayhanpook_tl   { kayhanpook }
\tl_set:Nn \l_kayhansayeh_tl  { kayhansayeh }
\tl_set:Nn \l_khoramshahr_tl  { khoramshahr }
\tl_set:Nn \l_khorramshahr_tl { khorramshahr }
\tl_set:Nn \l_niloofar_tl     { niloofar }
\tl_set:Nn \l_paatch_tl       { paatch }
\tl_set:Nn \l_riyaz_tl        { riyaz }
\tl_set:Nn \l_roya_tl         { roya }
\tl_set:Nn \l_shafigh_tl      { shafigh }
\tl_set:Nn \l_shafighKurd_tl  { shafighKurd }
\tl_set:Nn \l_shafighUzbek_tl { shafighUzbek }
\tl_set:Nn \l_shiraz_tl       { shiraz }
\tl_set:Nn \l_sols_tl         { sols }
\tl_set:Nn \l_tabriz_tl       { tabriz }
\tl_set:Nn \l_titr_tl         { titr }
\tl_set:Nn \l_titre_tl        { titre }
\tl_set:Nn \l_traffic_tl      { traffic }
\tl_set:Nn \l_vahid_tl        { vahid }
\tl_set:Nn \l_vosta_tl        { vosta }
\tl_set:Nn \l_yaghut_tl       { yaghut }
\tl_set:Nn \l_yagut_tl        { yagut }
\tl_set:Nn \l_yas_tl          { yas }
\tl_set:Nn \l_yekan_tl        { yekan }
\tl_set:Nn \l_yermook_tl      { yermook }
\tl_set:Nn \l_zar_tl          { zar }
\tl_set:Nn \l_ziba_tl         { ziba }
\tl_set:Nn \l_default_tl      { default }
\tl_set:Nn \l_noskip_tl       { noskip }

\keys_define:nn { xepersian-hm }
  {
    Kashida        .code:n = \tex_input:D { kashida-xepersian-hm.def } ,

    kashidastretch .code:n =
      {
        \tl_set:Nn \l_tmpa_tl { #1 }
        \tl_case:NnTF \l_tmpa_tl
          {
             \l_kayhan_tl       { \tl_set:Nn \l_hskip_default_tl { 0.14  em plus 0.5 em } }
             \l_khorramshahr_tl { \tl_set:Nn \l_hskip_default_tl { 0.131 em plus 0.5 em } }
             \l_kayhannavaar_tl { \tl_set:Nn \l_hskip_default_tl { 0.129 em plus 0.5 em } }
             \l_kayhanpook_tl   { \tl_set:Nn \l_hskip_default_tl { 0.133 em plus 0.5 em } }
             \l_kayhansayeh_tl  { \tl_set:Nn \l_hskip_default_tl { 0.135 em plus 0.5 em } }
             \l_khoramshahr_tl  { \tl_set:Nn \l_hskip_default_tl { 0.128 em plus 0.5 em } }
             \l_khorramshahr_tl { \tl_set:Nn \l_hskip_default_tl { 0.13  em plus 0.5 em } }
             \l_niloofar_tl     { \tl_set:Nn \l_hskip_default_tl { 0.132 em plus 0.5 em } }
             \l_paatch_tl       { \tl_set:Nn \l_hskip_default_tl { 0.127 em plus 0.5 em } }
             \l_riyaz_tl        { \tl_set:Nn \l_hskip_default_tl { 0.125 em plus 0.5 em } }
             \l_roya_tl         { \tl_set:Nn \l_hskip_default_tl { 0.142 em plus 0.5 em } }
             \l_shafigh_tl      { \tl_set:Nn \l_hskip_default_tl { 0.143 em plus 0.5 em } }
             \l_shafighKurd_tl  { \tl_set:Nn \l_hskip_default_tl { 0.126 em plus 0.5 em } }
             \l_shafighUzbek_tl { \tl_set:Nn \l_hskip_default_tl { 0.123 em plus 0.5 em } }
             \l_shiraz_tl       { \tl_set:Nn \l_hskip_default_tl { 0.122 em plus 0.5 em } }
             \l_sols_tl         { \tl_set:Nn \l_hskip_default_tl { 0.124 em plus 0.5 em } }
             \l_tabriz_tl       { \tl_set:Nn \l_hskip_default_tl { 0.119 em plus 0.5 em } }
             \l_titr_tl         { \tl_set:Nn \l_hskip_default_tl { 0.12  em plus 0.5 em } }
             \l_titre_tl        { \tl_set:Nn \l_hskip_default_tl { 0.121 em plus 0.5 em } }
             \l_traffic_tl      { \tl_set:Nn \l_hskip_default_tl { 0.124 em plus 0.5 em } }
             \l_vahid_tl        { \tl_set:Nn \l_hskip_default_tl { 0.134 em plus 0.5 em } }
             \l_vosta_tl        { \tl_set:Nn \l_hskip_default_tl { 0.136 em plus 0.5 em } }
             \l_yaghut_tl       { \tl_set:Nn \l_hskip_default_tl { 0.138 em plus 0.5 em } }
             \l_yagut_tl        { \tl_set:Nn \l_hskip_default_tl { 0.137 em plus 0.5 em } }
             \l_yas_tl          { \tl_set:Nn \l_hskip_default_tl { 0.126 em plus 0.5 em } }
             \l_yekan_tl        { \tl_set:Nn \l_hskip_default_tl { 0.141 em plus 0.5 em } }
             \l_yermook_tl      { \tl_set:Nn \l_hskip_default_tl { 0.139 em plus 0.5 em } }
             \l_zar_tl          { \tl_set:Nn \l_hskip_default_tl { 0.116 em plus 0.5 em } }
             \l_ziba_tl         { \tl_set:Nn \l_hskip_default_tl { 0.119 em plus 0.5 em } }
             \l_default_tl      { \tl_set:Nn \l_hskip_default_tl { 0.14  em plus 0.5 em } }
             \l_noskip_tl       { \tl_set:Nn \l_hskip_default_tl { 0     em plus 0.5 em } }
          } { } { \tl_set:Nn \l_hskip_default_tl { #1 } }
      } ,
    kashidastretch .default:n = \tl_set:Nn \l_hskip_default_tl { 0 em plus 0.5 em } ,
  }

\ProcessKeysOptions { xepersian-hm }

\ExplSyntaxOff
 \endinput
%% 
%%
%% End of file `xepersian-hm.sty'.
