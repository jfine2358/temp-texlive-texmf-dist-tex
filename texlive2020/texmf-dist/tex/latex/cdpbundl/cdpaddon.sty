%%
%% This is file `cdpaddon.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% cdpbundl.dtx  (with options: `addon')
%% 
%% This is a generated file.
%% It is part of a work named "C.D.P. Bundle".
%% 
%% Copyright (C) 1999-2018 by Gustavo MEZZETTI
%%                           <gustavo.mezzetti@istruzione.it>.
%% 
%% The C.D.P. Bundle may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%% 
%% The C.D.P. Bundle has the LPPL maintenance status
%%   "author-maintained".
%% 
%% The file `manifest.txt' that comes along with this file specifies
%% what the C.D.P. Bundle consists of; more precisely, it explains how
%% the locutions "Work" and "Compiled Work", used in the LaTeX Project
%% Public License, are to be interpreted in the case of this work.
%% 
%% Note that the distribution of this file alone is "distribution of
%% only part of the Work" in the sense of the LaTeX Project Public
%% License, and should be avoided.
%% 
%% February 8, 2018 (vers. 0.36d)
%% 
%% \CharacterTable
%%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%%   Digits        \0\1\2\3\4\5\6\7\8\9
%%   Exclamation   \!     Double quote  \"     Hash (number) \#
%%   Dollar        \$     Percent       \%     Ampersand     \&
%%   Acute accent  \'     Left paren    \(     Right paren   \)
%%   Asterisk      \*     Plus          \+     Comma         \,
%%   Minus         \-     Point         \.     Solidus       \/
%%   Colon         \:     Semicolon     \;     Less than     \<
%%   Equals        \=     Greater than  \>     Question mark \?
%%   Commercial at \@     Left bracket  \[     Backslash     \\
%%   Right bracket \]     Circumflex    \^     Underscore    \_
%%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%%   Right brace   \}     Tilde         \~}
\NeedsTeXFormat{LaTeX2e}[1998/06/01] % LaTeX2e is required!
\ProvidesPackage{cdpaddon}
              [2018/02/08 v0.36d (development)]
\@ifdefinable\@cdpaddon{\def\@cdpaddon{cdpaddon}}
\def\do#1{\@ifdefinable#1{\newif#1}}
\do\if@using@cdp@
\do\if@use@color@
\do\if@use@hyper@
\do\if@custom@lh@
\@ifdefinable\@cdpaddon@printer{\let\@cdpaddon@printer\@empty}
\@ifdefinable\@temp@cdpaddon@a{}
\@ifdefinable\@temp@cdpaddon@b{}
\def\@temp@cdpaddon@a{%
  \@using@cdp@false
  \PackageWarningNoLine{\@cdpaddon}{%
    It seems that you are not using the letteracdp\MessageBreak
    document class; therefore no attempt will be made\MessageBreak
    to modify letterheads and similar things%
  }%
}
\def\@temp@cdpaddon@b{letteracdp}
\@ifclassloaded{\@temp@cdpaddon@b}{%
  \ifx\@letteracdp\@temp@cdpaddon@b
    \@using@cdp@true
  \else
    \@temp@cdpaddon@a
  \fi
}{%
  \@temp@cdpaddon@a
}
\def\@temp@cdpaddon@a#1printer:#2,#3\@@@{%
  \def\@temp@cdpaddon@b{#1}%
  \ifx\@temp@cdpaddon@b\@empty
    \def\@cdpaddon@printer{#2}%
  \else
    \@unknownoptionerror
  \fi
}
\DeclareOption{bw}{\@use@color@false\@custom@lh@false}
\DeclareOption{color}{\@use@color@true\@custom@lh@false}
\DeclareOption{hypertext}{\@use@hyper@true\@custom@lh@false}
\DeclareOption{plaintext}{\@use@hyper@false\@custom@lh@false}
\DeclareOption{customletterhead}{%
  \@use@color@false
  \@use@hyper@false
  \@custom@lh@true
}
\DeclareOption*{%
  \expandafter\@temp@cdpaddon@a\CurrentOption,printer:,\@@@%
}
\ExecuteOptions{color,plaintext}
\ProcessOptions\relax
\def\@temp@cdpaddon@a{Default}
\ifx\@cdpaddon@printer\@temp@cdpaddon@a
  \let\@cdpaddon@printer\@empty
\fi
\if@use@color@
  \RequirePackage[dvipsnames]{color}
\fi
\if@use@hyper@
  \RequirePackage{hyperref}
\fi
\if@using@cdp@
  \def\@temp@cdpaddon@a#1{%
    \@ifundefined{#1}{%
      \PackageError\@cdpaddon{%
        Internal command \@backslashchar#1 undefined%
      }{%
        The internal command \@backslashchar#1,
        that should have been defined\MessageBreak
        by the \@letteracdp\space document class,
        is actually undefined.\MessageBreak
        Probably, you are using an old or modified version
        of that class.\MessageBreak
        Proceed, but keep your fingers crossed!%
      }%
    }%
  }
  \if@use@color@
    \ifx\@cdpaddon@printer\@empty
      \let\@temp@cdpaddon@b\@empty
      \begingroup % \endgroup put in by \@temp@cdpaddon@b
      \let\@temp@cdpaddon@b\endgroup
      \InputIfFileExists{cdpshues.cfg}{%
        \PackageInfo{\@cdpaddon}{%
          Reading config. file%
        }%
        \def\DeclareCDPSealHuesDefault{%
          \@temp@cdpaddon@b % ends group
          \endinput
          \def\@cdpaddon@printer
        }%
      }{%
        \PackageWarningNoLine{\@cdpaddon}{%
          Could not find config. file for default printer%
        }%
      }%
      \@temp@cdpaddon@b
    \else
      \def\@temp@cdpaddon@b{None}%
      \ifx\@cdpaddon@printer\@temp@cdpaddon@b
        \let\@cdpaddon@printer\@empty
      \fi
    \fi
    \def\@temp@cdpaddon@b{%
      \definecolor{slight@col}{named}{SpringGreen}
      \definecolor{strong@col}{named}{OliveGreen}
      \PackageInfo{\@cdpaddon}{%
        Color hues defined internally%
      }%
      \typeout{%
        *Package cdpaddon using built-in colors for the C.D.P. seal.*%
      }%
    }
    \ifx\@cdpaddon@printer\@empty
      \@temp@cdpaddon@b
    \else
      \InputIfFileExists{\@cdpaddon@printer.def}{%
        \PackageInfo{\@cdpaddon}{%
          Color hues defined by def. file\MessageBreak
          \@cdpaddon@printer.def%
        }%
      }{%
        \PackageWarningNoLine{\@cdpaddon}{%
          Could not find def. file \@cdpaddon@printer.def%
        }%
        \@temp@cdpaddon@b
      }%
    \fi
    \def\@temp@cdpaddon@b#1{%
      \@temp@cdpaddon@a{#1}{%
        \setbox\z@\box\@nameuse{#1}%
        \sbox{\@nameuse{#1}}{{\color{strong@col}\unhbox\z@}}%
      }%
    }
    \renewcommand*\foldingtagrule{%
      \color{strong@col}%
      \CDPFactoryFoldingTagRule
    }
    \@temp@cdpaddon@a{@logo@box@base}{%
      \savebox\@logo@box@base[\z@][r]{\setlength\unitlength{.625mm}%
        \begin{picture}(32,16)(-3,7.87)%
          \begingroup
            \color{slight@col}%
            \put(8,16){\circle*{10}}%
            \put(18,16){\circle*{10}}%
            \thicklines
            \put(8,16){\oval(8.2,8.2)[l]}%
            \put(8,16){\oval(8.6,8.6)[l]}%
            \put(8,16){\oval(9,9)[l]}%
            \put(8,16){\oval(9.4,9.4)[l]}%
            \put(8,16){\oval(9.8,9.8)[l]}%
            \put(18,16){\oval(8.2,8.2)[r]}%
            \put(18,16){\oval(8.6,8.6)[r]}%
            \put(18,16){\oval(9,9)[r]}%
            \put(18,16){\oval(9.4,9.4)[r]}%
            \put(18,16){\oval(9.8,9.8)[r]}%
            \put(13,16){\makebox(0,0){\color{white}%
              \vrule height 6.25mm depth 0mm width 6.25mm
            }}%
            \put(9,11){\makebox(0,0)[bl]{%
              \vrule height 12.5mm depth 0mm width 1.875mm
            }}%
            \put(14,1){\makebox(0,0)[bl]{%
              \vrule height 12.5mm depth 0mm width 1.875mm
            }}%
          \endgroup
          \color{strong@col}%
          \put(8,16){\oval(10,10)[l]}%
          \put(8,11){\line(0,1){10}}%
          \put(9,11){\framebox(3,20){}}%
          \put(18,16){\oval(10,10)[r]}%
          \put(18,11){\line(0,1){10}}%
          \put(14,1){\framebox(3,20){}}%
          \thicklines
          \put(8,16){\oval(16,16)[l]}%
          \put(8,8){\line(1,0){5}}%
          \put(13,24){\line(1,0){10}}%
          \put(8,16){\oval(14,14)[l]}%
          \put(8,9){\line(1,0){5}}%
          \put(13,23){\line(1,0){10}}%
        \end{picture}%
      }%
    }
    \@temp@cdpaddon@b{@logo@box@addS}
    \@temp@cdpaddon@b{@logo@box@addL}
    \@temp@cdpaddon@b{@oordinamento@box}
    \@temp@cdpaddon@a{@cdp@head}{\def\@cdp@head{%
      \@logo@overlay\@logo@box@addL
      \copy\@oordinamento@box
      {\color{strong@col}\hrulefill}\kern\@lh@right@margin
    }}
    \@temp@cdpaddon@a{@cdp@foot}{\def\@cdp@foot{%
      \color{strong@col}%
      \reset@font
      \setlength\@tempdima{\textwidth}%
      \addtolength\@tempdima{-2\@lh@right@margin}%
      \hss\parbox[t]{\@tempdima}{%
        \parfillskip\z@skip
        \noindent\hrulefill\@@par
        \baselineskip 11\p@
        \hb@xt@\hsize{\hfil\copy\@name@and@WWW@box\hfil}%
      }\hss
    }}
  \fi
  \newsavebox\@cdp@custom@lhead@box
  \newsavebox\@cdp@custom@lfoot@box
  \newsavebox\@cdp@custom@llogo@box
  \def\@temp@cdpaddon@b#1#2#3#4{%
    \newenvironment*{customletter#1}[1]{%
      \setbox\@nameuse{@cdp@custom@l#1@box}\vbox to\z@ \bgroup
        \hsize ##1\relax
        \parskip \z@skip
        #3% either \vss or nothing
        \everypar{}%
        \noindent\minipage[#2]{##1}%
          \null
    }{%
          \par
          \vskip -\baselineskip
          \null
        \endminipage
        #4% either \vss or nothing
      \egroup
      \global \setbox \@ne \box \@nameuse{@cdp@custom@l#1@box}%
      \xdef\@cdp@reserved{%
        \setbox \@nameuse{@cdp@custom@l#1@box}\box \@ne
      }%
      \aftergroup \@cdp@reserved
    }%
  }%
  \@temp@cdpaddon@b{head}{b}{\vss}{}
  \@temp@cdpaddon@b{foot}{t}{}{\vss}
  \@temp@cdpaddon@b{logo}{b}{\vss}{}
  \newcommand*\ruleacrossheadorfoot[1][\z@]{\par
    \setlength\@tempdima{#1}%
    \@ifnextchar [% ] bracket matching
      \@cdp@rule@across@x
      {%
        \@tempdimb \@tempdima
        \@cdp@rule@across
      }%
  }
  \@ifdefinable\@cdp@rule@across@x{\def\@cdp@rule@across@x[#1]{%
    \setlength\@tempdimb{#1}%
    \@cdp@rule@across
  }}
  \@ifdefinable\@cdp@rule@across{\def\@cdp@rule@across{
    \nobreak
    \vskip -\baselineskip
    \hb@xt@ \hsize {%
      \kern \@tempdima \hrulefill \kern \@tempdimb
    }%
  }}
  \if@custom@lh@
    \@temp@cdpaddon@a{@cdp@head}{\def\@cdp@head{%
      \hss\copy\@cdp@custom@lhead@box\hss
    }}
    \@temp@cdpaddon@a{@cdp@foot}{\def\@cdp@foot{%
      \hss\copy\@cdp@custom@lfoot@box\hss
    }}
    \@temp@cdpaddon@a{@cdp@logo}{\def\@cdp@logo{%
      \llap{\copy\@cdp@custom@llogo@box}%
    }}
    \setlength\longindentation{.5\textwidth}
  \fi
  \if@use@hyper@
    \AtBeginDocument{%
      \@temp@cdpaddon@a{@name@and@WWW@box}{%
        \setbox\@name@and@WWW@box = \vtop{%
          \baselineskip 11\p@
          \fontencoding{OT1}\selectfont
          \hb@xt@\z@{\hss \@lh@rm\Coordinamento \hss}%
          \hb@xt@\z@{%
            \hss
            \@lh@it World Wide Web:\/
            \href{\CoordinamentoWWW}{\@lh@tt \CoordinamentoWWW}%
            \hss
          }%
        }%
      }%
      \let\@temp@cdpaddon@a\@undefined
    }
  \else
    \let\@temp@cdpaddon@a\@undefined
  \fi
\else
  \let\@temp@cdpaddon@a\@undefined
\fi
\let\if@using@cdp@\@undefined
\let\@using@cdp@true\@undefined
\let\@using@cdp@false\@undefined
\let\if@use@color@\@undefined
\let\@use@color@true\@undefined
\let\@use@color@false\@undefined
\let\if@use@hyper@\@undefined
\let\@use@hyper@true\@undefined
\let\@use@hyper@false\@undefined
\let\if@custom@lh@\@undefined
\let\@custom@lh@true\@undefined
\let\@custom@lh@false\@undefined
\let\@cdpaddon@printer\@undefined
\let\@temp@cdpaddon@b\@undefined
\DeclareRobustCommand*\facesmile{\@face\smile}
\DeclareRobustCommand*\facefrown{\@face\frown}
\@ifdefinable\@face{\def\@face#1{%
  \leavevmode
  \count@\spacefactor
  \hb@xt@ 1em{\hfil$%
    \hb@xt@\z@ {\hss$\bigcirc$\hss}%
    \lower .2ex \hb@xt@\z@ {\hss$\scriptscriptstyle #1$\hss}%
    \raise .3ex \hb@xt@\z@ {\hss${\cdot}\mkern 2mu{\cdot}$\hss}%
  $\hfil}%
  \spacefactor\count@
}}
\endinput
%%
%% End of file `cdpaddon.sty'.
