%==============================================================================
% HA-prosper -- (HAPcapsules.sty) Style file
% A LaTeX class for creating slides
% Author: Mathieu Goutelle (mgoutell[at]users[dot]sourceforge[dot]net)
%         UREC CNRS, France
%
% Copyright (c) 2004 Mathieu Goutelle
% All rights reserved.
%
% This program may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.2
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.2 or later is part of all distributions of LaTeX
% version 1999/12/01 or later.
%
%==============================================================================
\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{HAPcapsules}[2004/06/10]
\typeout{capsules style for HA-prosper}
\typeout{(c) 2004 Mathieu Goutelle, UREC CNRS, France}
\typeout{ }

\ifHAP@portrait
  \PackageError{HAPcapsules}{This template does not support portrait slides}%
  {Sorry, no additional help}%
\fi

% Required packages
\RequirePackage{amssymb}
\RequirePackage{palatino,mathpazo}

% Colors
\newrgbcolor{mylightgreen}{0.6 0.8 0.6}
\newrgbcolor{mygreen}{0 0.4 0.4}
\newrgbcolor{myblue}{0 0.2 0.4}
\newrgbcolor{HAP@textc}{0 0.2 0.4}
\newrgbcolor{HAP@framecolor}{.17 .31 .44}

% Highlighting definitions
\newrgbcolor{HAP@hcolor}{0 0.2 0.4}  % Highlight frame color
\newrgbcolor{HAP@htcolor}{1 1 1}     % Highlight text color

% Font definitions
\FontTitle{\usefont{T1}{phv}{b}{n}\fontsize{14.4pt}{14pt}\selectfont\mygreen}%
  {\usefont{T1}{phv}{b}{n}\fontsize{14.4pt}{14pt}\selectfont\mygreen}
\FontSubtitle{\usefont{T1}{phv}{m}{n}\fontsize{10pt}{10pt}\selectfont\myblue}%
  {\usefont{T1}{phv}{m}{n}\fontsize{10pt}{10pt}\selectfont\myblue}
\FontText{\usefont{T1}{phv}{m}{n}\fontsize{10pt}{10pt}\selectfont\HAP@textc}%
  {\usefont{T1}{phv}{m}{n}\fontsize{10pt}{10pt}\selectfont\HAP@textc}
\FontLeftFoot{\@fontTextColor\fontsize{4pt}{4pt}\selectfont}%
  {\@fontTextColor\fontsize{4pt}{4pt}\selectfont}
\FontRightFoot{\@fontTextColor\fontsize{4pt}{4pt}\selectfont}%
  {\@fontTextColor\fontsize{4pt}{4pt}\selectfont}

\newcommand{\TitleSlide}[1]{
  \psframe[fillstyle=solid,fillcolor=mylightgreen,linestyle=none,linewidth=0pt](-2,-2)(5,9)%
  \pscircle[fillstyle=solid,fillcolor=white,linestyle=none,linewidth=0pt](0.5,5.5){1}%
  \psframe[fillstyle=solid,fillcolor=white,linestyle=none,linewidth=0pt](0.5,4.5)(5.41,6.5)%

  \pscircle[fillstyle=solid,fillcolor=myblue,linestyle=none,linewidth=0pt](11,1){0.2}%
  \psframe[fillstyle=solid,fillcolor=myblue,linestyle=none,linewidth=0pt](4,0.8)(11,1.2)%

  \HAP@PutLF{tl}{-1.65,-.9}%
  \HAP@PutRF{tr}{11.35,-.9}%

  {#1}}

\newcommand{\NormalSlide}[1]{
  \psframe[fillstyle=solid,fillcolor=mylightgreen,linestyle=none,linewidth=0pt](-2,-2)(0.4,9)%
  \psframe[fillstyle=solid,fillcolor=mylightgreen,linestyle=none,linewidth=0pt](0,7.5)(5,9)%
  \pscircle[fillstyle=solid,fillcolor=white,linestyle=none,linewidth=0pt](0.9,7.5){0.5}%
  \psframe[fillstyle=solid,fillcolor=white,linestyle=none,linewidth=0pt](0.9,7.49)(5.41,8)%

  \pscircle[fillstyle=solid,fillcolor=myblue,linestyle=none,linewidth=0pt](-0.1,6.8){0.2}%
  \psframe[fillstyle=solid,fillcolor=myblue,linestyle=none,linewidth=0pt](-0.1,6.6)(9.4,7)%

  \ifHAP@toc%
     \rput[lt](-1.7,6.25){\begin{minipage}[t]{2cm}\HAP@toc\end{minipage}}%
  \fi%

  \HAP@PutLF{tl}{-1.65,-.9}%
  \HAP@PutRF{tr}{11.35,-.9}%

  {#1}}

\newcommand{\SpecialSlide}[1]{
  \psframe[fillstyle=solid,fillcolor=mylightgreen,linestyle=none,linewidth=0pt](-2,-2)(-1,9)%
  \psframe[fillstyle=solid,fillcolor=mylightgreen,linestyle=none,linewidth=0pt](-1,7.5)(5,9)%
  \pscircle[fillstyle=solid,fillcolor=white,linestyle=none,linewidth=0pt](-0.5,7.5){0.5}%
  \psframe[fillstyle=solid,fillcolor=white,linestyle=none,linewidth=0pt](-0.5,7.49)(5.41,8)%

  \pscircle[fillstyle=solid,fillcolor=myblue,linestyle=none,linewidth=0pt](-1.5,6.8){0.2}%
  \psframe[fillstyle=solid,fillcolor=myblue,linestyle=none,linewidth=0pt](-1.5,6.6)(9.4,7)%

  \HAP@PutLF{tl}{-1.65,-.9}%
  \HAP@PutRF{tr}{11.35,-.9}%

  {#1}}

\newcommand{\HAPR@titleSlide}{%
   \NewSlideStyle[11.5cm]{tl}{-0.8,2.6}{TitleSlide}}
\newcommand{\HAPR@normalSlide}{%
   \global\let\slidetitle=\normal@slidetitle
   \NewSlideStyle[9.78cm]{tl}{1.17,2.7}{NormalSlide}}
\newcommand{\HAPR@wideSlide}{%
   \global\let\slidetitle=\special@slidetitle
   \NewSlideStyle[11.5cm]{tl}{-0.7,2.7}{SpecialSlide}}

\def\special@slidetitle#1{\rput[lb](-0.8,3.6){%
   \parbox{11.5cm}{\fontTitle{\mygreen\baselineskip=0pt #1}}}}%
\def\normal@slidetitle#1{\rput[lb](0.6,3.6){%
   \parbox{10.7cm}{\fontTitle{\mygreen\baselineskip=0pt #1}}}}%

\renewcommand{\maketitle}[1][]{%
  \expandafter\ifx\csname frenchTeXmods\endcsname\relax
  \else
  \ifx\@soORI\@undefined
  \PackageWarning{prosper}{This page is intentionally left blank
    to overcome an incompatibility bug in the seminar class with
    the old (< 1999/11/23) B. Gaulle's 'french' package.}%
  \begin{center}%
    {\black\small
  \textsf{prosper} class: page intentionally left blank to overcome
    an incompatibility bug between B. Gaulle 'french' package and
    the seminar class.}%
  \end{center}%
  \clearpage \setcounter{page}{0}%
  \fi\fi
  \begin{slide}[#1]{HAP@notitle}%
    \ptsize{10}%
    \begin{center}%
    \@titleSpacing\par
    \normalfont
    {\ifinColor\@fontTitleColor\else\@fontTitleBW\fi\@title\par}%
    \vskip2em
    \ifx\@Subtitle\@empty\else
    {\mbox{}\hfill
     \parbox{0.45\linewidth}{\raggedleft
       \ifinColor\@fontSubtitleColor\else\@fontSubtitleBW\fi\@Subtitle\par}%
     \vskip1em
     }
    \fi
    {\ifinColor\@fontAuthorColor\else\@fontAuthorBW\fi
      \begin{tabular}[t]{c}\@author\end{tabular}\par}%
    \vfill
    \end{center}%
  \end{slide}%
}

\myitem{1}{\scriptsize\raisebox{1pt}{\ensuremath{\blacksquare}}}
\myitem{2}{\scriptsize\raisebox{1pt}{\ensuremath{\blacklozenge}}}
\myitem{3}{\scriptsize\raisebox{1pt}{\ensuremath{\bullet}}}

% Style of table of contents entries
\newcommand{\HAP@tline}[1]{\guillemotright\,#1}
\newcommand{\HAP@tsectionm}{\psline[linecolor=myblue,linewidth=.25pt](-.05,-.05)(2,-.05)}

\endinput

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
