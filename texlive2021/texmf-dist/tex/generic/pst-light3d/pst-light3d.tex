%% Package `pst-li3d.tex'
%%
%% Denis Girou (CNRS/IDRIS - France) <Denis.Girou@idris.fr>
%% and Peter Kleiweg (Rijksuniversiteit Groningen - Nederlands)
%% <kleiweg@let.rug.nl> 
%% 
%% This program can be redistributed and/or modified under
%% the terms of the LaTeX Project Public License Distributed
%% from CTAN archives in directory macros/latex/base/lppl.txt.
%%
%% DESCRIPTION:
%%   `pst-li3d' is a PSTricks package for three dimensional
%%   lighten effect on characters and PSTricks graphics.
%%
%%
\csname PSTLightThreeDLoaded\endcsname
\let\PSTLightThreeDLoaded\endinput
\ifx\PSTricksLoaded\endinput\else\input{pstricks}\fi
%
\input pst-xkey
\pst@addfams{pst-light3d}
%
\def\FileVersion{0.12}
\def\FileDate{2006/11/25}
\message{`Pst-Light3d' v\FileVersion, \FileDate\space(DG/PK)}
%
\edef\PstAtCode{\the\catcode`\@}
\catcode`\@=11\relax
\pstheader{pst-light3d.pro}
%
\define@key[psset]{pst-light3d}{LightThreeDXLength}{%
  \pst@getlength{#1}\PstLightThreeD@XLength}
\define@key[psset]{pst-light3d}{LightThreeDYLength}{%
  \pst@getlength{#1}\PstLightThreeD@YLength}
\define@key[psset]{pst-light3d}{LightThreeDLength}{%
  \pst@getlength{#1}\PstLightThreeD@XLength%
  \pst@getlength{#1}\PstLightThreeD@YLength}
\define@key[psset]{pst-light3d}{LightThreeDSteps}{%
  \pst@getint{#1}\PstLightThreeD@Steps}
\define@key[psset]{pst-light3d}{LightThreeDAngle}{%
  \pst@getangle{#1}\PstLightThreeD@LightAngle}
\define@key[psset]{pst-light3d}{LightThreeDColorPsCommand}{%
  \edef\PstLightThreeD@ColorPsCommand{#1}}
\psset{%
  LightThreeDXLength=0.2,LightThreeDYLength=0.3,%
  LightThreeDSteps=40,LightThreeDAngle=45,%
  LightThreeDColorPsCommand=2.5 div setgray}
\def\PstLightThreeDGraphic{\pst@object{PstLightThreeDGraphic}}
\def\PstLightThreeDGraphic@i{%
  \pst@makebox{%
    \PstLightThreeD@i{%
      /LightThreeDDXa LightThreeDDX def
      /LightThreeDDYa LightThreeDDY def
      /stroke { gsave reversepath LightThreeDPathForAll grestore
        LightThreeDPathForAll } def }{ end }%
  }%
}
\def\PstLightThreeDText{\pst@object{PstLightThreeDText}}
\def\PstLightThreeDText@i{%
  \pst@makebox{%
    \PstLightThreeD@i{%
      /LightThreeDDXa LightThreeDDX Resolution 100 div mul def
      /LightThreeDDYa LightThreeDDY VResolution 100 div mul def
      /tx@LightThreeDSavedShow /show load def
      /show {
        dup
        gsave
        false charpath
        reversepath LightThreeDPathForAll
        grestore true charpath 
      } def }%
    {/show /tx@LightThreeDSavedShow load def end }%
  \begin@ClosedObj%
    \def\use@pscode{%
      \pst@Verb{%
        gsave
        \tx@STV
        \pst@code grestore CP newpath moveto 
      }%
      \gdef\pst@code{}%
    }%
    \end@ClosedObj%
  }%
}%
\def\PstLightThreeD@i#1#2{{%
  \use@par%
  \leavevmode%
  \pstVerb{%
    tx@LightThreeDDict begin
      /LightThreeDDX \PstLightThreeD@XLength\space def
      /LightThreeDDY \PstLightThreeD@YLength\space neg def
      /LightThreeDSteps \PstLightThreeD@Steps def
      /LightThreeDAngle \PstLightThreeD@LightAngle def
      /LightThreeDColorPsCommand {\PstLightThreeD@ColorPsCommand} def
      /LightThreeDMINangle LightThreeDDY LightThreeDDX atan 180 sub def
      /LightThreeDMAXangle LightThreeDDY LightThreeDDX atan def
      #1}%
  \hbox{\box\pst@hbox}%
  \pstVerb{#2}%
}\ignorespaces}
%
\catcode`\@=\PstAtCode\relax
\endinput
%%
%% End of file `pst-li3d.tex'.

\iffalse
0.11 hv use pst-xkey
0.10 hv	initial version
\fi