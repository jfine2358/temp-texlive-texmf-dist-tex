%%
%% This is file `fix-tudscrfonts.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% tudscr-version.dtx  (with options: `package,fixfonts')
%% tudscr-comp.dtx  (with options: `package,fixfonts,identify')
%% tudscr-base.dtx  (with options: `package,fixfonts,load')
%% tudscr-layout.dtx  (with options: `package,fixfonts,option')
%% tudscr-misc.dtx  (with options: `package,fixfonts,execute')
%% tudscr-layout.dtx  (with options: `package,fixfonts,body')
%% tudscr-comp.dtx  (with options: `package,fixfonts,body')
%% 
%% TUD-Script -- Corporate Design of Technische Universitaet Dresden
%% 
%%   2020/11/10 v2.06k TUD-Script
%% 
%% Copyright (C) Falk Hanisch <hanisch.latex@outlook.com>, 2012-2020
%% 
%% This file was generated from file(s) of the TUD-Script bundle.
%% ----------------------------------------------------------------------------
%% 
%% This work may be distributed and/or modified under the conditions
%% of the LaTeX Project Public License, version 1.3c of the license.
%% The latest version of this license is in
%%     http://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of
%% LaTeX 2005/12/01 or later and of this work.
%% 
%% This work has the LPPL maintenance status "author-maintained".
%% 
%% The current maintainer and author of this work is Falk Hanisch.
%% 
%%% From File: tudscr-version.dtx
\begingroup
  \catcode`\@11\relax
  \ifx\TUD@Version\@undefined
    \newcommand*\TUD@Version@Check[1]{%
      \gdef\TUD@Version{#1}%
      \gdef\TUDScriptVersion{#1}%
      \def\@tempb##1 v##2 ##3\relax##4\relax{\gdef\TUDScriptVersionNumber{##2}}%
      \edef\@tempa{\TUD@Version}%
      \expandafter\@tempb\@tempa\relax? ? \relax\relax%
      \gdef\TUD@Version@KOMA{3.32}%
    }
  \else
    \newcommand*\TUD@Version@Check[1]{%
      \def\@tempa{#1}%
      \ifx\TUD@Version\@tempa\else%
        \@latex@warning@no@line{%
          \noexpand\TUD@Version\space is `\TUD@Version',\MessageBreak%
          but `#1' was expected!\MessageBreak%
          You should not use classes, packages or files from\MessageBreak%
          different TUD-Script-Bundle versions%
        }%
      \fi%
    }
  \fi
  \TUD@Version@Check{2020/11/10 v2.06k TUD-Script}
\endgroup
\NeedsTeXFormat{LaTeX2e}[2019/10/01]
\providecommand*\tudscrmail{hanisch.latex@outlook.com}
\@ifundefined{TUDScript}{%
  \DeclareRobustCommand\TUDScript{%
    \textsf{%
      T\kern.05em U\kern.05em D\kern.1em-\kern.1em Script%
    }%
    \ifcsname xspace\endcsname%
      \xspace%
    \fi%
  }%
}{}
%%% From File: tudscr-comp.dtx
\ProvidesPackage{fix-tudscrfonts}[%
  2020/11/10 v2.06k TUD-Script
  package for font fixes
  (compatibility for old tud(scr) classes)%
]
%%% From File: tudscr-base.dtx
\RequirePackage{tudscrbase}[\TUD@Version]
%%% From File: tudscr-layout.dtx
\newif\if@tud@heavyheadings
\TUD@key{headings}{%
  \TUD@set@numkey{headings}{@tempa}{%
    {light}{0},{lightfont}{0},{lite}{0},{litefont}{0},{noheavyfont}{0},%
    {normal}{0},{standard}{0},{std}{0},{normalbold}{0},{boldnormal}{0},%
    {heavy}{1},{heavyfont}{1},{bold}{1},{boldfont}{1},%
    {ultrabold}{1},{boldultra}{1},{heavybold}{1},{boldheavy}{1},%
    {extendedbold}{1},{boldextended}{1}%
  }{#1}%
  \ifx\FamilyKeyState\FamilyKeyStateProcessed%
    \ifcase\@tempa\relax% light
      \@tud@heavyheadingsfalse%
    \or% heavy
      \@tud@heavyheadingstrue%
    \fi%
  \fi%
}
%%% From File: tudscr-misc.dtx
\DeclareOption*{\PassOptionsToPackage{\CurrentOption}{tudscrfonts}}
\TUDExecuteOptions{%
  headings=heavy%
}
\TUDProcessOptions\relax
%%% From File: tudscr-layout.dtx
\AfterPackage{tudscrfonts}{%
\newcommand*\tud@sec@fontface[1][]{\tud@sec@@fontface{#1}}%
\newcommand*\tud@sec@@fontface[1]{%
  \sectfont#1%
  \if@tud@cdfont@active\if@tud@heavyheadings%
    \if@tud@x@mweights@enabled%
      \edef\bfseries@rm{\tud@cdfont@ebf}%
      \edef\bfseries@sf{\tud@cdfont@ebf}%
      \edef\bfseries@tt{\tud@ttfont@ebf}%
    \fi%
    \let\bfdefault\tud@cdfont@ebf%
    \fontseries{\tud@cdfont@ebf}%
  \fi\fi%
  \selectfont%
}
\if@tud@cdoldfont@active
  \renewcommand*\tud@sec@fontface[1][]{%
    \if@tud@cdoldfont@nodin%
      \tud@sec@@fontface{#1}%
    \else%
      \tud@db\tud@raggedright%
    \fi%
  }%
\fi
\newcommand*\tud@sec@format[2][]{%
  \IfArgIsEmpty{#1}{%
    \tud@sec@strut%
  }{%
    \begingroup%
      \usefontofkomafont{#1}%
      \tud@sec@strut%
    \endgroup%
  }%
  #2%
}
\if@tud@cdoldfont@active
  \newcommand*\tud@sec@uppercase{\MakeUppercase}%
  \AfterPackage*{textcase}{%
    \renewcommand*\tud@sec@uppercase{\MakeTextUppercase}%
  }%
  \renewcommand*\tud@sec@format[2][]{%
    \@tud@res@swafalse%
    \IfArgIsEmpty{#1}{%
      \tud@sec@strut%
      \tud@ifdin{\@tud@res@swatrue}{}%
    }{%
      \begingroup%
        \usefontofkomafont{#1}%
        \tud@sec@strut%
        \tud@ifdin{\aftergroup\@tud@res@swatrue}{}%
      \endgroup%
    }%
    \if@tud@res@swa%
      \tud@sec@uppercase{#2}%
    \else%
      #2%
    \fi%
  }%
\fi
\newrobustcmd*\tud@sec@strut{%
}
}
%%% From File: tudscr-comp.dtx
\AtEndPreamble{%
  \tud@fixfonts@class@check%
  \RequirePackage{tudscrfonts}[\TUD@Version]%
}
\ifx\usepackage\RequirePackage
  \newcommand*\tud@fixfonts@class@check{%
    \PackageError{fix-tudscrfonts}{Package too late}{%
      You must load `fix-tudscrfonts' with\MessageBreak%
      `\string\RequirePackage' before any document class.%
    }%
  }%
\else
  \newcommand*\tud@fixfonts@class@check{%
    \PackageError{fix-tudscrfonts}{Unsupported class found}{%
      You have to use `fix-tudscrfonts' only\MessageBreak%
      with supported classes. These are: `tudbook',\MessageBreak%
      `tudbeamer', `tudfax', `tudform', `tudhaus',\MessageBreak%
      and `tudletter' as well as `tudposter'\MessageBreak%
      and `tudmathposter'. Otherwise it's adequate\MessageBreak%
      to use package `tudscrfonts' as usual.%
    }%
  }%
\fi
\newcommand*\tud@fixfonts@class@adapt[2]{%
  \BeforeClass{#1}{%
    \let\tud@fixfonts@class@check\relax%
    \tud@cs@store{DeclareFixedFont}%
    \renewcommand*\DeclareFixedFont[6]{}%
    \tud@cs@store{rmdefault}%
    \tud@cs@store{sfdefault}%
    \tud@cs@store{ttdefault}%
    \tud@cs@store{bfdefault}%
    \tud@cs@store{mddefault}%
    \tud@cs@store{itdefault}%
    \tud@cs@store{sldefault}%
    \tud@cs@store{scdefault}%
    \tud@cs@store{updefault}%
    \tud@cs@store{rmfamily}%
    \tud@cs@store{sffamily}%
    \tud@cs@store{ttfamily}%
    \tud@cs@store{familydefault}%
    \tud@cs@store{seriesdefault}%
    \tud@cs@store{shapedefault}%
    \tud@cs@store{normalfont}%
    \let\normalfont\relax%
    \PassOptionsToClass{serifmath}{#1}%
  }%
  \AfterClass{#1}{%
    \tud@cs@restore{DeclareFixedFont}%
    \tud@cs@restore{rmdefault}%
    \tud@cs@restore{sfdefault}%
    \tud@cs@restore{ttdefault}%
    \tud@cs@restore{bfdefault}%
    \tud@cs@restore{mddefault}%
    \tud@cs@restore{itdefault}%
    \tud@cs@restore{sldefault}%
    \tud@cs@restore{scdefault}%
    \tud@cs@restore{updefault}%
    \tud@cs@restore{rmfamily}%
    \tud@cs@restore{sffamily}%
    \tud@cs@restore{ttfamily}%
    \tud@cs@restore{familydefault}%
    \tud@cs@restore{seriesdefault}%
    \tud@cs@restore{shapedefault}%
    \tud@cs@restore{normalfont}%
    #2%
    \AfterPackage{tudscrfonts}{%
      \def\dinBold{\dinbn}%
      \def\dinfamily{\dinbn}%
      \AtBeginDocument{%
        \newcommand*\univLightVII{}%
        \newcommand*\univLightObliqueVII{}%
        \newcommand*\univBoldVII{}%
        \newcommand*\univLightIX{}%
        \newcommand*\univLightObliqueIX{}%
        \newcommand*\univBoldIX{}%
        \newcommand*\univLightXI{}%
        \newcommand*\univLightObliqueXI{}%
        \newcommand*\univBoldXI{}%
        \newcommand*\univLightXV{}%
        \newcommand*\univLightObliqueXV{}%
        \newcommand*\univBoldXV{}%
        \newcommand*\univLightHead{}%
        \newcommand*\univBoldHead{}%
        \providecommand*\tud@head@fontsize{9}%
        \if@tud@cdfont@fam@exist%
          \DeclareFixedFont{\univLightVII}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{n}{7}%
          \DeclareFixedFont{\univLightObliqueVII}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{sl}{7}%
          \DeclareFixedFont{\univBoldVII}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{b}{n}{7}%
          \DeclareFixedFont{\univLightIX}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{n}{9}%
          \DeclareFixedFont{\univLightObliqueIX}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{sl}{9}%
          \DeclareFixedFont{\univBoldIX}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{b}{n}{9}%
          \DeclareFixedFont{\univLightXI}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{n}{11}%
          \DeclareFixedFont{\univLightObliqueXI}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{sl}{11}%
          \DeclareFixedFont{\univBoldXI}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{b}{n}{11}%
          \DeclareFixedFont{\univLightXV}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{n}{15}%
          \DeclareFixedFont{\univLightObliqueXV}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{sl}{15}%
          \DeclareFixedFont{\univBoldXV}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{b}{n}{15}%
          \DeclareFixedFont{\univLightHead}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{l}{n}{\tud@head@fontsize}%
          \DeclareFixedFont{\univBoldHead}{\encodingdefault}%
            {\tud@cdfont@fam@lf}{b}{n}{\tud@head@fontsize}%
        \else%
          \DeclareFixedFont{\univLightVII}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\updefault}{7}%
          \DeclareFixedFont{\univLightObliqueVII}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\sldefault}{7}%
          \DeclareFixedFont{\univBoldVII}{\encodingdefault}%
            {\sfdefault}{\bfdefault}{\updefault}{7}%
          \DeclareFixedFont{\univLightIX}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\updefault}{9}%
          \DeclareFixedFont{\univLightObliqueIX}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\sldefault}{9}%
          \DeclareFixedFont{\univBoldIX}{\encodingdefault}%
            {\sfdefault}{\bfdefault}{\updefault}{9}%
          \DeclareFixedFont{\univLightXI}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\updefault}{11}%
          \DeclareFixedFont{\univLightObliqueXI}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\sldefault}{11}%
          \DeclareFixedFont{\univBoldXI}{\encodingdefault}%
            {\sfdefault}{\bfdefault}{\updefault}{11}%
          \DeclareFixedFont{\univLightXV}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\updefault}{15}%
          \DeclareFixedFont{\univLightObliqueXV}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\sldefault}{15}%
          \DeclareFixedFont{\univBoldXV}{\encodingdefault}%
            {\sfdefault}{\bfdefault}{\updefault}{15}%
          \DeclareFixedFont{\univLightHead}{\encodingdefault}%
            {\sfdefault}{\mddefault}{\updefault}{\tud@head@fontsize}%
          \DeclareFixedFont{\univBoldHead}{\encodingdefault}%
            {\sfdefault}{\bfdefault}{\updefault}{\tud@head@fontsize}%
        \fi%
      }%
    }%
  }%
}
\tud@fixfonts@class@adapt{tudletter}{}
\tud@fixfonts@class@adapt{tudfax}{}
\tud@fixfonts@class@adapt{tudform}{}
\tud@fixfonts@class@adapt{tudhaus}{}
\tud@fixfonts@class@adapt{tudposter}{}
\tud@fixfonts@class@adapt{tudbeamer}{}
\tud@fixfonts@class@adapt{tudbook}{%
  \patchcmd{\@makechapterhead}{\dinBold\Huge\bfseries}{%
    \tud@sec@fontface%
    \if@color\color{HKS41-100}\fi%
    \Huge%
  }{}{\tud@patch@wrn{@makechapterhead}}%
  \patchcmd{\@makechapterhead}{\MakeUppercase}{%
    \tud@sec@format%
  }{}{\tud@patch@wrn{@makechapterhead}}%
  \patchcmd{\@makeschapterhead}{\dinBold\Huge\bfseries}{%
    \tud@sec@fontface%
    \if@color\color{HKS41-100}\fi%
    \Huge%
  }{}{\tud@patch@wrn{@makeschapterhead}}%
  \patchcmd{\@makeschapterhead}{\MakeUppercase}{%
    \tud@sec@format%
  }{}{\tud@patch@wrn{@makeschapterhead}}%
  \patchcmd{\section}{\dinBold\Large\bfseries\MakeUppercase}{%
    \tud@sec@fontface%
    \if@color\color{HKS41-100}\fi%
    \Large%
    \tud@sec@format%
  }{}{\tud@patch@wrn{section}}%
  \patchcmd{\showtitle}{\dinBold\Huge\bfseries\MakeUppercase}{%
    \tud@sec@fontface%
    \if@colortitle\color{HKS41-30}\fi%
    \Huge%
    \tud@sec@format%
  }{}{\tud@patch@wrn{showtitle}}%
}
\tud@fixfonts@class@adapt{tudmathposter}{%
  \def\raggedtitle{\tud@raggedright}%
  \renewcommand*\raggedpart{\tud@raggedright}%
  \renewcommand*\raggedsection{\tud@raggedright}%
  \setkomafont{title}{\tud@sec@fontface\Huge}%
  \CheckCommand\maketitle{%
    \if@matheanull
    \setlength\@tempskipa{31.194586mm-\topsep}%
    \else
    \setlength\@tempskipa{33.02mm-\topskip}%
    \fi
    \vskip\@tempskipa
   {%
      \ifx\@title\@empty\else
      \usekomafont{title}\preprocesstitle{\@title}%
      \ifx\@subtitle\@empty\else\\\fi
      \fi
    }{
      \ifx\@subtitle\@empty\else
      \subtitlefont\preprocesstitle{\@subtitle}%
      \fi
      \if@matheanull
      \vskip 2.9948cm\relax
      \else
      \vskip 3.17cm\relax
      \fi
    }%
  }%
  \apptocmd{\maketitle}{\vspace{-6ex}}{}{\tud@patch@wrn{maketitle}}%
  \renewcommand*\subtitlefont{%
    \unskip%
    \tud@sec@fontface%
    \huge%
  }%
  \renewcommand*\preprocesstitle[1]{\raggedtitle\tud@sec@format{#1}}%
  \if@mathevorgabe%
    \undef\sectionfont%
    \undef\subsectionfont%
  \fi%
  \newcommand*\sectionfont{\bfseries\LARGE}%
  \newcommand*\subsectionfont{\sectionfont\large}%
  \patchcmd{\ps@tudposter}{\textbf{\@einrichtung}}{%
    \textbf{\fontseries{b}\selectfont\@einrichtung}%
  }{}{\tud@patch@wrn{ps@tudposter}}%
  \pagestyle{tudposter}%
}
\newcommand*\tud@x@tudfonts@prevent{%
  \RequirePackage{amsmath}%
  \RequirePackage{amsfonts}%
  \newif\if@tudfonts@nodin%
  \let\DeclareTudMathSizes\@gobblefour%
  \let\tud@x@tudfonts@prevent\relax%
}
\PreventPackageFromLoading[\tud@x@tudfonts@prevent]{tudfonts}
\endinput
%%
%% End of file `fix-tudscrfonts.sty'.
