%%
%% This is file `metre.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% metre.dtx  (with options: `package')
%% 
%% This is a generated file.
%% 
%% Copyright 2000 2001 Gianfranco Boggio-Togna
%% 
%% This file may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.2 of this license or (at your option) any
%% later version. The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.2 or later is part of all distributions
%% of LaTeX version 1999/12/01 or later.
%% 
\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{metre}%
  [2001/12/05 v. 1.0 A package for classicists]
\DeclareOption{st}{\def\M@opt@style{0}}
\DeclareOption{en}{\def\M@opt@style{1}}
\DeclareOption{En}{\def\M@opt@style{2}}
\ExecuteOptions{st}
\ProcessOptions
\RequirePackage{relsize}
\renewcommand{\rs@size@warning}[2]{\relax}
\newcount\M@ibycus
\newcount\M@metra
\newcount\M@metra@font
\newif\ifM@gravis
\newif\ifM@inter
\newif\ifM@vert@bar
\newif\ifM@imago
\newif\ifM@linea@dimen
\newif\ifM@starred
\newif\ifM@big
\newbox\M@box@m%        macron
\newbox\M@box@b%        breve
\newbox\M@box@tsmb%     triseme (macron + breve)
\newbox\M@box@tsbm%     triseme (breve + macron)
\newbox\M@box@tsmm%     tetraseme (macron + macron)
\newbox\M@box@ps%       pentaseme (macron + macron)
\newbox\M@box@a%        anceps
\newbox\M@box@o%        one half of `eolic base'
\newbox\M@box@k%        catalexis
\newbox\M@box@K%        catalexis (large)
\newbox\M@box@p%        dot
\newbox\M@box@A%        acute accent
\newbox\M@box@G%        grave accent
\newdimen\M@dim@m%      width of macron box
\newdimen\M@dim@b%      width of breve box
\newdimen\M@dim@p%      width of dot box
\newdimen\M@dim@s%      size of space
\newdimen\M@dim@bsink
\newdimen\M@dim@sunk
\newdimen\M@metra@ex
\newdimen\M@text@ex
\newdimen\M@dim@c@ext
\newdimen\M@dim@c@int
\newdimen\M@dim@c@Ext
\newdimen\M@linea@indent
\newdimen\M@linea@height
\newdimen\M@linea@length
\AtBeginDocument{%
  \@ifpackageloaded{ibycus4}{\M@ibycus\@ne}{\M@ibycus\z@}%
  \let\M@prevsize=\relax
  \def\M@before@linea{\relax}%
  \let\M@step@up=\tw@
}
\newcommand{\InterSigna}[1]{\def\M@interS{#1}}
\newcommand{\InterPedes}[1]{\def\M@interP{#1}}
\newcommand{\SubSigna}[1]{\def\M@subS{#1}}
\newcommand{\Magnitudo}[1]{\def\M@magnitudo{#1}}
\newcommand{\Elevatio}[1]{\def\M@elevatio{#1}}
\newcommand{\Translatio}[1]{\def\M@translatio{#1}}
\newcommand{\Intervallum}[1]{\def\M@intervallum{#1}}
\newcommand{\FaciesSiglorum}[1]{\def\M@facies{#1}}
\newcommand{\MetraStyle}[1]{\M@MetraStyle#1}
\def\M@MetraStyle#1#2{%
  \let\M@opt=\relax
  \ifx e#1\relax
    \ifx n#2\relax
      \let\M@opt=1\relax
    \fi
  \fi
  \ifx E#1\relax
    \ifx n#2\relax
      \let\M@opt=2\relax
    \fi
  \fi
  \ifx s#1\relax
    \ifx t#2\relax
      \let\M@opt=0\relax
    \fi
  \fi
  \ifx \M@opt\relax
    \PackageError{metre}%
        {Illegal option for \protect\MetraStyle}%
        {Valid options are `en', `En', `st'.}%
  \else
    \edef\M@opt@style{\M@opt}%
  \fi
}
\newcommand{\MetrikeFont}[1]{\def\M@MetrikeFont{#1}}
\InterSigna{.2}%
\InterPedes{.67}%
\SubSigna{0}%
\Magnitudo{0}%
\Elevatio{0}%
\Translatio{0}%
\Intervallum{.08}%
\FaciesSiglorum{\it}%
\newcommand{\metra}[2][\relax]{%
  \ifnum \M@metra=\@ne
    \PackageError{metre}{Recursive use of \protect\metra}%
      {You cannot use \protect\metra within%
       the argument \MessageBreak
       of another \protect\metra command}%
  \fi
  \M@metra=\@ne
  \let\M@text@fontsize=\@currsize
  \M@text@ex=\fontdimen5\the\font
  \leavevmode
  \begingroup
  \M@metra@setup{#1}%
  \dimen0=\if 0\M@opt@style 0\else .5\fi \M@text@ex
  \advance \dimen0 by \M@subS \M@text@ex
  \raise \dimen0 \hbox{\hss\M@interfalse #2\hss}%
  \endgroup
  \M@metra=\z@
  \relax
}
\def\M@metra@setup#1{%
  \let\is=\InterSigna
  \let\i=\Intervallum
  \let\ip=\InterPedes
  \let\ss=\SubSigna
  \let\m=\Magnitudo
  \let\ms=\MetraStyle
  \def\en{\MetraStyle{en}}%
  \def\En{\MetraStyle{En}}%
  \def\st{\MetraStyle{st}}%
  #1\relax
  \M@cmr
  \count255=\M@magnitudo
  \advance \count255 by \M@step@up
  \relsize{\count255}%
  \let\M@metra@fontsize=\@currsize
  \M@metra@ex=1ex
  \ifx \@currsize \M@prevsize
    \relax
  \else
    \M@makeboxes
    \global\let\M@prevsize=\@currsize
  \fi
  \M@dim@c@ext=\M@interP\M@dim@m
  \M@dim@c@int=\M@interS\M@dim@m
  \M@dim@c@ext=1.33\M@dim@c@ext
  \M@dim@c@Ext=\M@dim@c@int
  \M@dim@s=\M@interP\M@dim@m
  \let\a    \M@a
  \let\b    \M@b    \let\B    \M@B
                    \let\gB   \M@gB
  \let\bb   \M@bb   \let\BB   \M@BB
                    \let\gBB  \M@gBB
                    \let\Bb   \M@Bb
                    \let\gBb  \M@gBb
                    \let\bB   \M@bB
                    \let\gbB  \M@gbB
  \let\bm   \M@bm   \let\Bm   \M@Bm
                    \let\gBm   \M@gBm
  \let\bba  \M@bba
  \let\bbb  \M@bbb
  \let\bbm  \M@bbm  \let\BBm  \M@BBm
                    \let\gBBm \M@gBBm
                    \let\Bbm  \M@Bbm
                    \let\gBbm \M@gBbm
                    \let\bBm  \M@bBm
                    \let\gbBm \M@gbBm
  \let\bbmx \M@bbmx
  \let\bbmb \M@bbmb
  \let\m    \M@m    \let\M    \M@M
                    \let\gM   \M@gM
  \let\ma   \M@ma
  \let\mb   \M@mb   \let\Mb   \M@Mb
                    \let\gMb  \M@gMb
  \let\mbb  \M@mbb  \let\Mbb  \M@Mbb
                    \let\gMbb \M@gMbb
                    \let\mBb  \M@mBb
                    \let\gmBb \M@gmBb
                    \let\mbB  \M@mbB
                    \let\gmbB \M@gmbB
  \let\mbbx \M@mbbx
  \let\c    \M@c    \let\cc   \M@cc    \let\ccc   \M@ccc
  \let\C    \M@C    \let\Cc   \M@Cc    \let\Ccc   \M@Ccc
  \let\d    \M@d
  \let\k    \M@k    \let\K    \M@K
  \let\n    \M@n    \let\ni   \M@ni    \let\N     \M@N
  \let\o    \M@o    \let\oo   \M@oo
  \let\p    \M@p    \let\pp   \M@pp    \let\Pp    \M@Pp
                    \let\pxp  \M@pxp   \let\Pxp   \M@Pxp
  \let\pm   \M@pm   \let\ppm  \M@ppm   \let\pppm  \M@pppm
                    \let\vppm \M@vppm  \let\vpppm \M@vpppm
  \let\ppp  \M@ppp  \let\pppp \M@pppp  \let\ppppp \M@ppppp
  \let\Ppp  \M@Ppp  \let\Pppp \M@Pppp  \let\Ppppp \M@Ppppp
  \let\q    \M@q    \let\Q    \M@Q
  \let\r    \M@r    \let\R    \M@R
  \let\s    \M@s
  \let\S    \M@super@metra
  \let\t    \M@t    \let\T    \M@T
  \let\tsbm \M@tsbm
  \let\tsmb \M@tsmb
  \let\tsmm \M@tsmm
  \let\ps   \M@ps
  \let\v    \M@v
  \let\x    \M@x
  \let\'\M@acutus   \let\`\M@gravis
}
\def\M@makeboxes{%
  \M@metra@font=%
  \ifx \@currsize \Large 6 \else
  \ifx \@currsize \large 5 \else
  \ifx \@currsize \normalsize 4 \else
  \ifx \@currsize \small 3 \else
  \ifx \@currsize \footnotesize 2 \else
  \ifx \@currsize \scriptsize 1 \else
  \ifx \@currsize \LARGE 7 \else
  \ifx \@currsize \huge 8 \else
  \ifx \@currsize \Huge 9 \else
  \ifx \@currsize \tiny 0
  \fi\fi\fi\fi\fi\fi\fi\fi\fi\fi
  \setbox0=\hbox{\char22}%
  \global\M@dim@m=.73\wd0
  \global\M@dim@b=.59\wd0
  \ifnum 2>\M@metra@font \global\M@dim@b=.58\wd0
  \else
    \ifnum 4=\M@metra@font \global\M@dim@b=.575\wd0
    \else
      \ifnum 5=\M@metra@font \global\M@dim@b=.575\wd0
      \else
        \ifnum 6=\M@metra@font \global\M@dim@b=.5775\wd0
        \else
          \ifnum 7=\M@metra@font \global\M@dim@b=.595\wd0
          \fi
        \fi
      \fi
    \fi
   \fi
  \global\M@dim@p=.25\wd0
  \global\setbox\M@box@m=\hbox to \M@dim@m{%
    \hss
    \dimen0=1.235\M@metra@ex
    \ifcase \@ptsize
      \ifnum 1=\M@metra@font \dimen0=1.2\M@metra@ex
      \else
        \ifnum 9=\M@metra@font \dimen0=1.25\M@metra@ex
        \fi
      \fi
    \or
      \ifnum 0=\M@metra@font \dimen0=1.25\M@metra@ex
      \else
        \ifnum 9=\M@metra@font \dimen0=1.25\M@metra@ex
        \fi
      \fi
    \or
      \ifnum 0=\M@metra@font \dimen0=1.25\M@metra@ex
      \else
        \ifnum 7<\M@metra@font \dimen0=1.25\M@metra@ex
        \fi
      \fi
    \fi
    \lower\dimen0\hbox{\char22}%
    \hss
  }%
  \dimen0=.089\M@metra@ex
  \ifcase \@ptsize
    \ifnum 4>\M@metra@font
      \dimen0=.08\M@metra@ex
    \else
      \ifnum 6<\M@metra@font
        \dimen0=.05\M@metra@ex
      \fi
    \fi
  \or
     \dimen0=.08\M@metra@ex
  \or
     \dimen0=.08\M@metra@ex
  \fi
  \global\ht\M@box@m=\dimen0
  \global\dp\M@box@m=\z@
  \global\setbox\M@box@b=\hbox to \M@dim@b{%
    \hss
    \lower 1.142\M@metra@ex\hbox{\char21}%
    \hss}%
  \global\ht\M@box@b=.495\M@metra@ex
  \global\dp\M@box@b=\z@
  \global\M@dim@bsink=.4\ht\M@box@b
  \global\setbox\M@box@p=\hbox to \M@dim@p{%
    \hss
    \lower 1.3\M@metra@ex\hbox{\char95}%
    \hss}%
  \global\ht\M@box@p=.15\M@metra@ex
  \global\dp\M@box@p=\z@
  \global\setbox\M@box@tsmb=\hbox{%
    \vrule height .4\M@metra@ex width \ht\M@box@m
    \hbox to 1.667\M@dim@m{%
      \leaders\hrule height \ht\M@box@m\hfill}}%
  \dimen0=1.667\M@dim@m
  \advance \dimen0 by \ht\M@box@m
  \global\wd\M@box@tsmb=\dimen0
  \global\ht\M@box@tsmb=.2\M@metra@ex
  \global\dp\M@box@tsmb=\z@
  \global\setbox\M@box@tsbm=\hbox{%
    \hbox to 1.667\M@dim@m{%
      \leaders\hrule height \ht\M@box@m\hfill}%
    \vrule height .4\M@metra@ex width \ht\M@box@m}%
  \dimen0=1.667\M@dim@m
  \advance \dimen0 by \ht\M@box@m
  \global\wd\M@box@tsbm=\dimen0
  \global\ht\M@box@tsbm=.2\M@metra@ex
  \global\dp\M@box@tsbm=\z@
  \global\setbox\M@box@tsmm=\hbox{%
     \vrule height .4\M@metra@ex width \ht\M@box@m%
     \hbox to 1.667\M@dim@m{%
       \leaders\hrule height \ht\M@box@m\hfill}%
     \vrule height .4\M@metra@ex width \ht\M@box@m%
       \kern \ht\M@box@m}%
  \dimen0=1.667\M@dim@m
  \advance \dimen0 by 2\ht\M@box@m
  \global\wd\M@box@tsmm=\dimen0
  \global\ht\M@box@tsmm=.2\M@metra@ex
  \global\dp\M@box@tsmm=\z@
  \global\setbox\M@box@ps=\hbox{%
     \vrule height .4\M@metra@ex width \ht\M@box@m%
     \hbox to .82\M@dim@m{%
       \leaders\hrule height \ht\M@box@m\hfill}%
     \vrule height .4\M@metra@ex width \ht\M@box@m%
     \hbox to .825\M@dim@m{%
       \leaders\hrule height \ht\M@box@m\hfill}%
     \vrule height .4\M@metra@ex width \ht\M@box@m%
       \kern \ht\M@box@m}%
  \dimen0=1.667\M@dim@m
  \advance \dimen0 by 3\ht\M@box@m
  \global\wd\M@box@ps=\dimen0
  \global\ht\M@box@ps=.2\M@metra@ex
  \global\dp\M@box@ps=\z@
  \global\setbox\M@box@A=\hbox{%
    \hss
    \lower 1.1\M@metra@ex\hbox{\char19}%
    \hss}%
  \global\ht\M@box@A=.175\M@metra@ex
  \global\dp\M@box@A=\z@
  \global\setbox\M@box@G=\hbox{%
    \hss
    \lower 1.1\M@metra@ex\hbox{\char18}%
    \hss}%
  \global\ht\M@box@G=.2\M@metra@ex
  \global\dp\M@box@G=\z@
  \begingroup
  \begingroup$\textstyle
    \global\setbox\M@box@K=\hbox{%
      \lower 1.25ex \hbox{\hss\symbol{"5E}\hss}}%
  $\endgroup
  \relsize{-3}%
  \begingroup$\scriptscriptstyle
    \global\setbox\M@box@k=\hbox{%
      \lower 1.25ex \hbox{\hss\symbol{"5E}\hss}}%
  $\endgroup
  \dimen0=\f@baselineskip
  \fontencoding{OMS}\fontfamily{cmsy}\fontseries{m}%
  \fontshape{n}%
  \fontsize{\f@size}{\dimen0}%
  \selectfont
  \begingroup
  \relsize{-2}%
  \global\setbox0=\hbox{\symbol{"02}}%
  \global\setbox\M@box@a=%
    \hbox to .675\wd0{\hss\symbol{"02}\hss}%
  \endgroup
  \global\ht\M@box@a=.82\ht0
  \global\dp\M@box@a=\z@
  \dimen0=\f@baselineskip
  \begingroup
  \relsize{+1}%
  \fontsize{\f@size}{\dimen0}%
  \selectfont
  \setbox0=\hbox{\symbol{"0E}}%
  \global\setbox\M@box@o=\hbox to .733\wd0{\hss%
    \lower .08\M@metra@ex\hbox{\symbol{"0E}}\hss}%
  \endgroup
  \global\ht\M@box@o=.8\ht0
  \global\dp\M@box@o=\z@
  \endgroup
}
\def\M@s{\kern \M@dim@s \nobreak}
\def\M@@m{\copy\M@box@m}
\def\M@m{\M@head \M@@m \M@tail}
\def\M@M{\M@head \M@acutus \M@@m \M@tail}
\def\M@gM{\M@head \M@gravis \M@@m \M@tail}
\def\M@@lm{\M@@m \kern -\wd\M@box@m \kern \wd\M@box@b \M@@m}
\def\M@lm{\M@head \M@@lm \M@tail}
\def\M@@b{\hbox{\M@en@check{\M@dim@bsink}\copy \M@box@b}}
\def\M@b{\M@head \M@@b \M@tail}
\def\M@B{\M@head \M@acutus \M@@b \M@tail}
\def\M@gB{\M@head \M@gravis \M@@b \M@tail}
\def\M@a{%
    \M@head \M@en@check{.4\ht\M@box@a}\copy\M@box@a
    \M@dirty@trick\M@box@a \M@tail}
\def\M@@ma{%
  \M@en@check{.4\ht\M@box@a}\M@stack{\M@box@m}{\M@box@a}}
\def\M@ma{\M@head   \M@@ma \M@tail}
\def\M@Ma{\M@head \M@acutus \M@@ma \M@tail}
\def\M@gMa{\M@head \M@gravis \M@@ma \M@tail}
\def\M@o{%
  \M@head \M@en@check{.4\ht\M@box@o}\copy \M@box@o \M@tail}
\def\M@oo{\M@o \M@o}
\def\M@@bb{\M@@b\M@@b}
\def\M@bb{\M@head \M@@bb \M@tail}
\def\M@Bb{\M@head \M@A{.5}\M@@b \M@@b \M@tail}
\def\M@gBb{\M@gravistrue \M@Bb \M@gravisfalse}
\def\M@bB{\M@head \M@@b \M@A{.5}\M@@b \M@tail}
\def\M@gbB{\M@gravistrue \M@bB \M@gravisfalse}
\def\M@BB{\M@head \M@acutus \M@@bb \M@tail}
\def\M@gBB{\M@head \M@gravis \M@bb \M@tail}
\def\M@@bm{%
  \setbox0=\M@stack{\M@box@b}{\M@box@m}%
  \dimen0=\M@dim@bsink
  \advance \dimen0 by \M@intervallum\M@metra@ex
  \advance \dimen0 by \ht\M@box@m
  \M@en@check{\dimen0}\box0\relax
}
\def\M@bm{\M@head \M@@bm \M@tail}
\def\M@Bm{\M@head \M@acutus \M@@bm \M@tail}
\def\M@gBm{\M@head \M@gravis \M@bm \M@tail}
\def\M@@mb{%
 \setbox0=\M@stack{\M@box@m}{\M@box@b}%
 \M@en@check{\M@dim@bsink}\box0\relax
}
\def\M@mb{\M@head \M@@mb \M@tail}
\def\M@Mb{\M@head \M@acutus \M@@mb \M@tail}
\def\M@gMb{\M@head \M@gravis \M@mb \M@tail}
\def\M@@mbb{\M@@mb \kern -\wd\M@box@m \kern \wd\M@box@b \M@@mb}
\def\M@mbb{\M@head \M@@mbb \M@tail}
\def\M@Mbb{\M@head \M@acutus \M@@mbb \M@tail}
\def\M@mBb{\M@head \M@acutus[.25]\M@@mbb \M@tail}
\def\M@mbB{\M@head \M@acutus[.75]\M@@mbb \M@tail}
\def\M@gMbb{\M@head \M@gravis \M@@mbb \M@tail}
\def\M@gmBb{\M@head \M@gravis[.25]\M@@mbb \M@tail}
\def\M@gmbB{\M@head \M@gravis[.75]\M@@mbb \M@tail}
\def\M@@bbm{\M@@bm \kern -\wd\M@box@m \kern \wd\M@box@b \M@@bm}
\def\M@bbm{\M@head \M@@bbm \M@tail}
\def\M@BBm{\M@head \M@acutus \M@@bbm \M@tail}
\def\M@Bbm{\M@head \M@acutus[.25]\M@@bbm \M@tail}
\def\M@bBm{\M@head \M@acutus[.75]\M@@bbm \M@tail}
\def\M@gBBm{\M@head \M@gravis \M@@bbm \M@tail}
\def\M@gBbm{\M@head \M@gravis[.25]\M@@bbm \M@tail}
\def\M@gbBm{\M@head \M@gravis[.75]\M@@bbm \M@tail}
\def\M@@bba{%
 \edef\M@opt@save{\M@opt@style}%
 \def\M@opt@style{0}%
 \setbox0=\hbox{\M@@bb}%
 \edef\M@opt@style{\M@opt@save}%
 \setbox0=\hbox to \wd0{\hss\M@stack{0}{\M@box@a}\hss}%
 \M@en@check{.5\ht\M@box@a}\box0\relax
}
\def\M@bba{\M@head \M@@bba \M@tail}
\def\M@@bbb{%
 \edef\M@opt@save{\M@opt@style}%
 \def\M@opt@style{0}%
 \setbox0=\hbox{\M@@bb}%
 \edef\M@opt@style{\M@opt@save}%
 \setbox0=\hbox to \wd0{\hss\M@stack{0}{\M@box@b}\hss}%
 \M@en@check{\M@dim@bsink}\box0\relax
}
\def\M@bbb{\M@head \M@@bbb \M@tail}
\def\M@bbmb{%
  \M@head
  \dimen0=\M@intervallum\M@metra@ex
  \if 2\M@opt@style %                the [En] option
    \edef\M@opt@save{\M@opt@style}%
    \def\M@opt@style{0}%
    \setbox0=\hbox{\M@@lm}%
    \copy0
    \kern -\wd0
    \dimen1=\dimen0
    \advance \dimen1 by \ht\M@box@b
    \lower \dimen1 \hbox to \wd0{\hss\M@@b\hss}%
    \global\M@dim@sunk=\dimen1
    \kern -\wd0
    \dimen1=\dimen0
    \advance \dimen1 by \ht\M@box@m
    \raise \dimen1 \hbox to \wd0{\hss\M@@bb\hss}%
    \edef\M@opt@style{\M@opt@save}%
  \else
    \edef\M@opt@save{\M@opt@style}%
    \def\M@opt@style{0}%
    \setbox0=\hbox{\M@@bbm}%
    \edef\M@opt@style{\M@opt@save}%
    \global\M@dim@sunk=\z@
    \hbox to \wd0{\hss\M@@b\hss}%
    \kern -\wd0
    \advance \dimen0 by \ht\M@box@b
    \advance \dimen0 by -\M@dim@sunk
    \raise \dimen0 \box0
  \fi
  \M@tail
}
\def\M@p{%
  \M@head
  \if 0\M@opt@style
    \relax
  \else
    \lower .5\ht\M@box@p
  \fi
  \copy\M@box@p
  \M@tail
}
\def\M@@pm{%
  \setbox0=\hbox{\hss\copy\M@box@p\hss}%
  \M@stack{0}{\M@box@m}%
}
\def\M@pm{\M@head   \M@@pm \M@tail}
\def\M@@ppm{%
  \setbox0=\hbox{\copy\M@box@p\kern .33\wd\M@box@p\copy\M@box@p}%
  \M@stack{0}{\M@box@m}%
}
\def\M@ppm{\M@head \M@@ppm \M@tail}
\def\M@pppm{%
  \M@head
  \setbox0=\hbox{\M@@ppm}%
  \ht0=1.2\ht0
  \M@stack{\M@box@p}{0}%
  \M@tail
}
\def\M@@pp{%
  \setbox0=\vbox{\copy\M@box@p
                 \nointerlineskip\kern 2\M@dim@bsink
                 \copy\M@box@p
  }%
  \M@en@caesura{.25\M@dim@bsink}%
}
\def\M@pp{\kern \M@dim@c@ext \M@@pp \kern \M@dim@c@ext
          \M@interfalse}
\def\M@Pp{\kern \M@dim@c@Ext \M@@pp \kern \M@dim@c@Ext
          \M@interfalse}
\def\M@@pxp{%
  \setbox0=\vbox{\vskip 1.125\M@dim@bsink
                 \nointerlineskip \vskip .5\ht\M@box@p
                 \copy\M@box@p
                 \nointerlineskip \vskip 2.25\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip \vskip 1.125\M@dim@bsink
                 \nointerlineskip \vskip .5\ht\M@box@p
  }%
  \M@en@caesura{1\M@dim@bsink}%
}
\def\M@pxp{\kern \M@dim@c@ext \M@@pxp \kern \M@dim@c@ext
          \M@interfalse}
\def\M@Pxp{\kern \M@dim@c@Ext \M@@pxp \kern \M@dim@c@Ext
          \M@interfalse}
\def\M@@ppp{%
  \setbox0=\vbox{\copy\M@box@p
                 \nointerlineskip\vskip 2.25\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip\vskip 2.25\M@dim@bsink
                 \copy\M@box@p
  }%
  \M@en@caesura{1\M@dim@bsink}%
}
\def\M@ppp{\kern \M@dim@c@ext \M@@ppp \kern \M@dim@c@ext
           \M@interfalse}
\def\M@Ppp{\kern \M@dim@c@Ext \M@@ppp \kern \M@dim@c@Ext
           \M@interfalse}
\def\M@@pppp{%
  \setbox0=\vbox{\copy\M@box@p
                 \nointerlineskip\vskip 1.26\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip\vskip 1.26\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip\vskip 1.26\M@dim@bsink
                 \copy\M@box@p
  }%
  \M@en@caesura{1\M@dim@bsink}%
}
\def\M@pppp{\kern \M@dim@c@ext \M@@pppp \kern \M@dim@c@ext
            \M@interfalse}
\def\M@Pppp{\kern \M@dim@c@Ext \M@@pppp \kern \M@dim@c@Ext
            \M@interfalse}
\def\M@@ppppp{%
  \setbox0=\vbox{\copy\M@box@p
                 \nointerlineskip\vskip .775\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip\vskip .775\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip\vskip .775\M@dim@bsink
                 \copy\M@box@p
                 \nointerlineskip\vskip .775\M@dim@bsink
                 \copy\M@box@p
  }%
  \M@en@caesura{\M@dim@bsink}%
}
\def\M@ppppp{\kern \M@dim@c@ext \M@@ppppp \kern \M@dim@c@ext
             \M@interfalse}
\def\M@Ppppp{\kern \M@dim@c@Ext \M@@ppppp \kern \M@dim@c@Ext
             \M@interfalse}
\def\M@@vppm{%
  \setbox0=\hbox{\M@@pm}%
  \ht0=1.3\ht0
  \M@stack{\M@box@p}{0}%
}
\def\M@vppm{\M@head \M@@vppm \M@tail}
\def\M@@vpppm{%
  \setbox0=\hbox{\M@@vppm}%
  \ht0=1.15\ht0
  \M@stack{\M@box@p}{0}%
}
\def\M@vpppm{\M@head \M@@vpppm \M@tail}
\def\M@caesura{%
  \setbox0=\hbox{%
             \vrule width .03em depth .21\M@metra@ex
             height 1.25\M@metra@ex
  }%
  \M@en@caesura{\z@}%
}
\def\M@C{\kern \M@dim@c@Ext \M@caesura \kern \M@dim@c@Ext
         \M@interfalse}
\def\M@c{\kern \M@dim@c@ext \M@caesura \kern \M@dim@c@ext
         \M@interfalse}
\def\M@cc{\kern \M@dim@c@ext \M@caesura \kern \M@dim@c@int
                             \M@caesura \kern \M@dim@c@ext
                             \M@interfalse}
\def\M@Cc{\kern \M@dim@c@Ext \M@caesura \kern \M@dim@c@int
                             \M@caesura \kern \M@dim@c@Ext
                             \M@interfalse}
\def\M@ccc{\kern \M@dim@c@ext \M@caesura \kern \M@dim@c@int
                              \M@caesura \kern \M@dim@c@int
                              \M@caesura \kern \M@dim@c@ext
                              \M@interfalse}
\def\M@Ccc{\kern \M@dim@c@Ext \M@caesura \kern \M@dim@c@int
                              \M@caesura \kern \M@dim@c@int
                              \M@caesura \kern \M@dim@c@Ext
                              \M@interfalse}
\def\M@v{%
  \begingroup
  \M@text@fontsize
  \setbox0=\hbox{,},\kern -\wd0 \kern \M@dim@s
  \endgroup
}
\def\M@r{\M@bigfalse\M@@r}
\def\M@R{\M@bigtrue\M@@r}
\newcommand{\M@@r}[1][0]{\leavevmode
  \M@head
  \setbox0=\hbox{%
    $\ifM@big \scriptstyle
      \else \scriptscriptstyle \fi \sim$\unskip}%
  \dimen0=\ifM@big -.05\else .1\fi\M@metra@ex
  \advance \dimen0 by #1\M@metra@ex
  \if 0\M@opt@style
    \relax
  \else
    \advance \dimen0 by -\M@dim@bsink
  \fi
  \raisebox {\dimen0}[\z@][\z@]{\copy0}%
  \M@dirty@trick 0\relax
  \M@tail
}
\def\M@t{\M@bigfalse\M@@t}
\def\M@T{\M@bigtrue\M@@t}
\newcommand{\M@@t}[1][0]{\leavevmode
  \M@head
  \setbox0=\hbox{%
    $\ifM@big \scriptstyle \else
              \scriptscriptstyle \fi \otimes$\unskip}%
  \dimen0=\ifM@big -.05 \else .1 \fi \M@metra@ex
  \advance \dimen0 by #1\M@metra@ex
  \if 0\M@opt@style
    \relax
  \else
    \advance \dimen0 by -\M@dim@bsink
  \fi
  \raisebox {\dimen0}[\z@][\z@]{\copy0}%
  \M@dirty@trick 0\relax
  \M@tail
}
\def\M@x{%
  \M@head
  \setbox0=\vbox{\copy\M@box@p
                 \nointerlineskip\kern 2\M@dim@bsink
                 \copy\M@box@p
  }%
  \setbox0=\hbox{\copy0\kern \wd\M@box@p \copy0}%
  \M@en@check{.5\ht0}%
  \copy0
  \M@tail
}
\def\M@tsmb{\M@head \copy\M@box@tsmb \M@tail}
\def\M@tsbm{\M@head \copy\M@box@tsbm \M@tail}
\def\M@tsmm{\M@head \copy\M@box@tsmm \M@tail}
\def\M@ps{\M@head \copy\M@box@ps \M@tail}
\def\M@cmr{\fontencoding{OT1}\fontfamily{cmr}\fontseries{m}%
  \fontshape{n}\selectfont
}
\def\M@head{\leavevmode
  \ifM@inter
    \expandafter\hskip\M@interS\M@dim@m\relax
  \fi
  \M@interfalse
  \M@vert@barfalse
}
\def\M@tail{\M@intertrue}
\def\M@stack#1#2{%
  \hbox{%
    \dimen0=\wd#1\relax
    \ifdim \dimen0<\wd#2\relax
      \dimen0=\wd#2\relax
    \fi
    \dimen1=\ht#2\relax
    \advance \dimen1 by \M@intervallum\M@metra@ex
    \hbox to \dimen0{\hss\copy#2\hss}%
    \kern -\dimen0
    \raise \dimen1 \hbox to \dimen0{\hss\copy#1\hss}%
  }%
}
\def\M@Stack#1{%
  \ifnum #1=\z@
    \copy0
  \fi
  \dimen0=\wd0
  \advance \dimen0 by -\dimen3
  \advance \dimen0 by \wd1
  \kern -.5\dimen0
  \raisebox {\dimen2}[\z@][\z@]{\copy1}%
  \dimen0=\wd0
  \advance \dimen0 by -\wd1
  \advance \dimen0 by -\dimen3
  \dimen0=.5\dimen0
  \kern \dimen0\relax
}
\def\M@en@check#1{%
  \if 0\M@opt@style
    \relax
  \else
    \global\M@dim@sunk=#1\relax
    \lower #1\relax
  \fi
}
\def\M@en@caesura#1{%
   \dimen0=\if 0\M@opt@style 0\else .5\fi\M@text@ex
   \advance \dimen0 by \M@subS\M@text@ex
   \advance \dimen0 by #1\relax
   \lower \dimen0 \copy0
   \M@vert@bartrue
}
\newcommand{\M@acutus}[2][.5]{%
  \M@head \M@A{#1}{#2}\M@tail}
\newcommand{\M@gravis}[2][.5]{%
  \M@gravistrue \M@A{#1}{#2}\M@gravisfalse}
\def\M@A#1#2{%
  \setbox1=\hbox{#2}%
  \dimen1=\ht1
  \dimen2=\ht\M@box@b
  \if 0\M@opt@style
     \relax
  \else
     \advance \dimen2 by -\M@dim@sunk
  \fi
  \ifdim \dimen1<\dimen2
    \dimen1=\dimen2
  \fi
  \copy1\relax
  \dimen0=#1\wd1
  \advance \dimen0 by -1.5\wd1
  \kern \dimen0
  \raise \dimen1
    \hbox to \wd1{%
      \hss
      \ifM@gravis
        \ifdim \wd1>\M@dim@m
          \kern -.1\wd\M@box@G
        \fi
        \copy\M@box@G
      \else
        \ifdim \wd1>\M@dim@m
          \kern .1\wd\M@box@A
        \fi
        \copy\M@box@A
      \fi
      \hss
    }%
  \dimen0=#1\wd1
  \advance \dimen0 by -.5\wd1
  \kern -\dimen0\relax
}
\def\M@k#1{\M@head  \M@@Kk{#1}{\M@box@k}\relax \M@tail}
\def\M@K#1{\M@head  \M@@Kk{#1}{\M@box@K}\relax \M@tail}
\def\M@@Kk#1#2{%
  \global\M@dim@sunk=\z@
  \setbox1=\hbox{#1}%
  \dimen1=.667\ht\M@box@b
  \ifx #2\M@box@K
    \dimen1=1.33\dimen1
  \fi
  \advance \dimen1 by \M@dim@sunk
  #1\relax
  \kern -\wd1
  \raisebox {-\dimen1}[\z@][\z@]%
    {\hbox to \wd1{\hss\copy#2\hss}}%
}
\def\M@q#1#2{\M@head \M@@q{#1}{0}{#2}\relax \M@tail}
\def\M@Q#1#2{\M@head \M@@q{#1}{1}{#2}\relax \M@tail}
\def\M@@q#1#2#3{%
  \dimen0=\z@
  \if 0\M@opt@style
    \relax
  \else
    \advance \dimen0 by -\M@dim@bsink
  \fi
  \dimen1=\z@
  \def\M@q@size{4}%
  \def\M@Q@size{2}%
  \ifx !#1\relax
    \def\M@q@ante{\M@cmr\texttt{\char"0D}}%
    \def\M@q@post{\M@cmr\texttt{\char"0D}}%
    \dimen1=-.075em
  \else \ifx '#1\relax
    \def\M@q@ante{\M@cmr\char"60}%
    \def\M@q@post{\M@cmr\char"27}%
  \else \ifx (#1\relax
    \def\M@q@ante{%
      \fontencoding{OML}\fontfamily{cmm}\fontseries{m}%
      \fontshape{it}\selectfont\symbol{"2C}}%
    \def\M@q@post{%
      \fontencoding{OML}\fontfamily{cmm}\fontseries{m}%
      \fontshape{it}\selectfont\symbol{"2D}}%
    \def\M@q@size{6}%
    \def\M@Q@size{5}%
    \advance \dimen0 by .33ex
    \dimen1=.05em
  \else \ifx "#1\relax
    \def\M@q@ante{\M@cmr\char"5C}%
    \def\M@q@post{\M@cmr\char"22}%
    \dimen1=.05em
  \else \ifx <#1\relax
    \def\M@q@ante{%
      \fontencoding{U}\fontfamily{lasy}%
      \fontseries{b}\fontshape{n}%
      \selectfont\symbol{"28}%
      \kern -.2em\symbol{"28}\kern .1em\relax}%
    \def\M@q@post{%
      \fontencoding{U}\fontfamily{lasy}%
      \fontseries{b}\fontshape{n}%
      \selectfont\kern .1em\symbol{"29}%
      \kern -.2em\symbol{"29}}%
    \def\M@q@size{5}%
    \def\M@Q@size{3}%
    \dimen1=-.05em
    \advance \dimen0 by .33ex
  \else
      \PackageError{metre}%
        {Invalid character after %
         \protect\q \space or \protect\Q}%
        {Valid characters are:  \protect( %
         \protect' \protect" %
         \protect! \protect<}%
  \fi\fi\fi\fi\fi
  \raise \dimen0 \hbox{%
    \begingroup
    \relsize{-\if 1#2\M@Q@size\else \M@q@size\fi}%
    \setbox0=\hbox{\M@q@ante}%
    \copy0
    \endgroup
  }%
  \M@dirty@trick 0\relax
  \leavevmode \kern \dimen1
  {\M@interfalse#3}%
  \leavevmode \kern \dimen1
  \raise \dimen0 \hbox{%
    \begingroup
    \relsize{-\if 1#2\M@Q@size\else \M@q@size\fi}%
    \setbox0=\hbox{\M@q@post}%
    \copy0
    \endgroup
  }%
  \M@dirty@trick 0\relax
}
\def\M@d#1{\M@head  \M@@d#1\relax \M@tail}
\def\M@@d#1{%
  \setbox1=\hbox{#1}%
  #1\relax \kern -\wd1
  \hbox to \wd1{\hfill \M@caesura \hfill}%
}
\newcommand{\M@super@metra}[2][0]{%
  \begingroup
  \tiny
  \setbox0=\hbox{#2}%
  \dimen0=1.25\M@metra@ex
  \advance \dimen0 by
    \if 0\M@opt@style
      \z@
    \else
      \ifM@vert@bar -.5\M@text@ex \else -\M@dim@bsink \fi
    \fi
  \advance \dimen0 by \M@subS\M@text@ex
  \advance \dimen0 by -\ht0
  \advance \dimen0 by #1\M@metra@ex
  \raise \dimen0 \hbox{\kern .05\wd0#2}%
  \endgroup
  \M@vert@barfalse
}
\def\M@dirty@trick#1{%
  \kern -\wd#1\relax
  \raisebox {100cm}[\z@][\z@]{\hbox to \wd#1{\hss?\hss}}%
}
\newcommand{\M@n}[3][1]{\M@@n{\hss#2\hss}{#3}{0}{#1}{0}}
\newcommand{\M@ni}[3][1]{\M@@n{\hss#2\hss}{#3}{1}{#1}{0}}
\def\M@@n#1#2#3#4#5{%
  \M@head
  \global\M@dim@sunk=\z@
  \ifM@inter
    \dimen3=\M@interS\M@dim@m
  \else
    \dimen3=\z@
  \fi
  \setbox0=\hbox{#2}%
  \begingroup
  \tiny \global\setbox1=\hbox{#1}%
  \endgroup
  \dimen2=\M@intervallum\M@metra@ex
  \dimen2=1.5\dimen2
  \ifnum #3=\z@
    \advance \dimen2 by \dp1
    \advance \dimen2 by \ht0
  \else
    \dimen2=-\dimen2
    \advance \dimen2 by -\ht1
    \advance \dimen2 by -\M@dim@sunk
  \fi
  \dimen2=#4\dimen2
  \M@Stack#5\relax
  \M@tail
}
\newcommand{\M@N}[4][1]{%
  \M@@n{%
    \ifx #3\mbbx
      \hfil #2\relax \hfil \kern \M@dim@b
    \else
      \ifx #3\bbmx
        \kern \M@dim@b \hfil #2\relax \hfil
      \else
        \hfil #2\relax \hfil
      \fi
    \fi
  }{#3}{0}{#1}{0}%
  \M@interfalse
  \M@@n{%
    \ifx #3\mbbx
      \kern \M@dim@b \hfil #4\relax \hfil
    \else
      \ifx #3\bbmx
        \hfil #4\relax \hfil \kern \M@dim@b
      \else
        \hfil #4\relax \hfil
      \fi
    \fi
  }{#3}{1}{#1}{1}%
}
\def\M@mbbx{%
  \M@head
  \setbox0=\hbox{\M@@mbb}%
  \if 0\M@opt@style
    \dimen0=\M@intervallum\M@metra@ex
    \setbox1=\hbox{\m}%
    \advance \dimen0 by \ht1
    \raise \dimen0
  \fi
  \copy0 \kern -\M@dim@m
  \M@interfalse \M@@bbm
  \M@tail
}
\def\M@bbmx{%
  \M@head
  \setbox0=\hbox{\M@@bbm}%
  \copy0
  \dimen2=\M@dim@sunk
  \kern -\M@dim@m \M@interfalse
  \if 0\M@opt@style
    \dimen0=\M@intervallum\M@metra@ex
    \setbox1=\hbox{\m}%
    \advance \dimen0 by \ht1
    \raise \dimen0
  \fi
  \hbox{\M@@mbb}%
  \global\M@dim@sunk=\dimen2
  \M@tail
}
\newcommand{\numeri}[1]{\M@numeri#1\end}
\def\M@numeri#1:#2\end{\bgroup\tiny{\it #1}:%
  \kern .2em#2\egroup}
\def\M@abbrev{%
  \def\c{\metra{\c}}%
  \def\C{\metra{\C}}%
  \def\cc{\metra{\cc}}%
  \def\Cc{\metra{\Cc}}%
  \def\ccc{\metra{\ccc}}%
  \def\Ccc{\metra{\Ccc}}%
  \def\p{\metra{\p}}%
  \def\pp{\metra{\pp}}%
  \def\Pp{\metra{\Pp}}%
  \def\ppp{\metra{\ppp}}%
  \def\Ppp{\metra{\Ppp}}%
  \def\pppp{\metra{\pppp}}%
  \def\Pppp{\metra{\Pppp}}%
  \def\ppppp{\metra{\ppppp}}%
  \def\Ppppp{\metra{\Ppppp}}%
  \def\pxp{\metra{\pxp}}%
  \def\Pxp{\metra{\Pxp}}%
  \def\pos{\positio}%
  \def\Pos{\Positio}%
  \def\!{\dubia}%
  \let\e=\Elevatio
  \let\t=\Translatio
}
\newenvironment{metrica}[1][\relax]{\leavevmode
  \ifx n#1\relax
  \else
    \ifx N#1\relax
    \else
      \ifx \relax#1\relax
        \M@abbrev
      \else
        \PackageError{metre}{%
          Invalid optional parameter for %
            the metrica environment}%
          {The optional parameter must be either `n' or `N'}%
      \fi
    \fi
  \fi
  \def\={\M@tempus{2}}%
  \def\-{\M@tempus{1}}%
  \let\u=\-%
  \ignorespaces
  }{}%
\def\M@tempus#1#2{\leavevmode
  \def\M@accent{\relax}%
  \if '#2\relax
    \def\M@accent{19}%
  \else
    \if `#2\relax
      \def\M@accent{18}%
    \fi
  \fi
  \let\next=\relax
  \if \M@accent\relax
    \def\M@char{#2}%
    \let\next=\M@@tempus%        no accent
  \else
    \let\next=\M@@@tempus%       accent
  \fi
  \next{#1}%
}
\def\M@@@tempus#1#2{%
    \def\M@char{#2}%
    \M@@tempus#1\relax
}
\def\M@ij#1#2\end{%
  \ifx i#1\relax
    \def\M@char{\i}%
  \else
    \ifx j#1\relax
      \def\M@char{\j}%
    \else
      \def\M@char{#1}%
    \fi
  \fi
  \ifx i#2\relax
    \edef\M@char{\M@char\i}%
  \else
    \ifx j#2\relax
      \edef\M@char{\M@char\j}%
    \else
      \edef\M@char{\M@char#2}%
    \fi
  \fi
}
\def\M@@tempus#1{%
  \dimen0=1ex
  \dimen0=\M@elevatio\dimen0
  \ifdim \dimen0=\z@
    \expandafter\M@ij\M@char\end
  \fi
  \dimen3=1em
  \dimen3=\M@translatio\dimen3
  \setbox0=\hbox{\M@char}%
  \dimen1=\wd0
  \dimen2=\dimen0
  \ifdim \dimen0=\z@
    \ifdim \wd0=\z@
      \dimen2=1ex
    \else
      \dimen2=\ht0
    \fi
  \fi
  \setbox0=\hbox{%
    \M@char
    \kern -\dimen1
    \kern \dimen3
    \raise \dimen2 \hbox to \dimen1{%
      \begingroup
      \M@cmr
      \hss
      \raisebox {-1ex}[\z@][\z@]{\hbox{\char2#1}}%
      \hss
      \endgroup
    }%
    \kern -\dimen3
  }%
  \ht0=1.3\ht0
  \if \M@accent\relax
    \copy0
  \else
    \ifdim \dimen0=\z@
      \dimen0=1.05\ht0
    \else
      \ifdim \dimen0<\z@
        \dimen0=.8\dimen0
      \else
        \dimen0=1.2\dimen0
      \fi
    \fi
    \copy0
    \kern -\wd0
    \kern \dimen3
    \raise \dimen0 \hbox to \wd0{%
      \begingroup
      \M@cmr
      \hss
      \lower 1ex \hbox{\expandafter\char\M@accent}%
      \hss
      \endgroup
    }%
    \kern -\dimen3
  \fi
}
\newenvironment{metrike}[1][\relax]{\leavevmode
  \ifx n#1\relax
  \else
    \ifx N#1\relax
    \else
      \ifx \relax#1\relax
        \M@abbrev
      \else
        \PackageError{metre}{%
          Invalid optional parameter for %
            the metrike environment}%
          {The optional parameter must be either `n' or `N'}%
      \fi
    \fi
  \fi
  \def\={\M@gtempus{2}}%
  \def\-{\M@gtempus{1}}%
  \let\u=\-%
  \ifx \M@MetrikeFont \@undefined
    \ifnum \M@ibycus=\@ne
      \def\M@@MF{\fontencoding{OT1}\greek}%
    \else
      \ifx \l@greek \@undefined
        \PackageError{metre}{No font available for Greek text}%
          {You must use the \protect\MetrikeFont command}%
      \else
        \def\M@@MF{\selectlanguage{polutonikogreek}}%
      \fi
    \fi
  \else
    \if i\M@MetrikeFont
      \def\M@@MF{\fontencoding{OT1}\greek}%
    \else
      \if I\M@MetrikeFont
        \def\M@@MF{\fontencoding{OT1}\greek}%
      \else
        \if b\M@MetrikeFont
          \def\M@@MF{\selectlanguage{polutonikogreek}}%
        \else
          \if B\M@MetrikeFont
            \def\M@@MF{\selectlanguage{polutonikogreek}}%
          \else
            \def\M@@MF{\M@MetrikeFont}%
          \fi
        \fi
      \fi
    \fi
  \fi
  \M@@MF
  \ignorespaces
  }{}%
\def\M@gtempus#1#2{\leavevmode
  \setbox0=\hbox{#2}%
  \dimen0=1ex
  \dimen0=\M@elevatio\dimen0
  \ifdim \dimen0=\z@
    \dimen0=\ht0
  \fi
  \dimen3=1em
  \dimen3=\M@translatio\dimen3
  \copy0
  \kern -\wd0
  \dimen1=\wd0
  \setbox1=\hbox{\M@bare #2\end}%
  \advance \dimen1 by -\wd1
  \kern \dimen1
  \kern \dimen3
  \raise \dimen0 \hbox to \wd1{%
    \begingroup
    \hss
    \M@cmr
    \raisebox {-1ex}[\z@][\z@]{\hbox{\char2#1}}%
    \hss
    \endgroup
  }%
  \kern -\dimen3\relax
}
\def\M@bare#1{%
  \let\next=\M@bare
  \ifnum \M@ibycus=\@ne
    \ifx #1\end
      \let\next=\relax
    \else \ifx '#1\relax
    \else \ifx `#1\relax
    \else \ifx (#1\relax
    \else \ifx )#1\relax
    \else \ifx =#1\relax
    \else \ifx |#1\relax
    \else
      #1\relax
    \fi\fi\fi\fi\fi\fi\fi
  \else
    \ifx #1\end
      \let\next=\relax
    \else \ifx '#1\relax
    \else \ifx `#1\relax
    \else \ifx <#1\relax
    \else \ifx >#1\relax
    \else \ifx ~#1\relax
    \else \ifx |#1\relax
    \else
      #1\relax
    \fi\fi\fi\fi\fi\fi\fi
  \fi
  \next
}
\begingroup
\catcode`\:=\active
\catcode`\/=\active
\catcode`\_=\active
\catcode`<=\active
\catcode`>=\active
\gdef\sigla{%
  \begingroup%      \endgroup in \M@sigla
  \dimen1=.056em
  \catcode`\:=\active
  \catcode`\/=\active
  \catcode`\_=\active
  \catcode`<=\active
  \catcode`>=\active
  \def/{\raisebox{.667ex}{\anaclasis}\kern -.1em\relax}%
  \def_{%
    \raisebox{-.5ex}[\z@][\z@]{$\scriptscriptstyle\wedge$}%
  }%
  \def:{%
    \raisebox{-.02ex}{%
      \begingroup
      \M@cmr
      \kern .1em \char95 \kern -.1em \char95
      \endgroup
    }%
  }%
  \def\D{$\delta$\kern -\dimen1\relax}%
  \def\d{$\delta$}%
  \def\s{$\int$}%
  \def\+{%
    \kern .056em
    \raisebox{.667ex}[\z@][\z@]{$\scriptscriptstyle+$}%
  }%
  \def<{\kern -\dimen1\relax}%
  \def>{\kern \dimen1\relax}%
  \def\S{\M@super@sigla}%
  \def\charcolon{\char"3A}%
  \def\charslash{\char"2F}%
  \M@sigla
}
\endgroup
\newcommand{\M@sigla}[2][\relax]{%
  \ifx n#1\relax
  \else
    \ifx N#1\relax
    \else
      \ifx \relax#1\relax
        \def\c{\metra{\c}}%
        \def\C{\metra{\C}}%
        \def\cc{\metra{\cc}}%
        \def\Cc{\metra{\Cc}}%
        \def\ccc{\metra{\ccc}}%
        \def\Ccc{\metra{\Ccc}}%
        \def\p{\metra{\p}}%
        \def\pp{\metra{\pp}}%
        \def\Pp{\metra{\Pp}}%
        \def\ppp{\metra{\ppp}}%
        \def\Ppp{\metra{\Ppp}}%
        \def\pppp{\metra{\pppp}}%
        \def\Pppp{\metra{\Pppp}}%
        \def\ppppp{\metra{\ppppp}}%
        \def\Ppppp{\metra{\Ppppp}}%
        \def\pxp{\metra{\pxp}}%
        \def\Pxp{\metra{\Pxp}}%
        \def\x{\metra{\x}\kern 3\dimen1\relax}%
        \let\r=\respondens
        \M@dim@c@ext=.36em
        \M@dim@c@int=.12em
        \M@dim@c@Ext=.5\M@dim@c@int
      \else
        \PackageError{metre}{%
          Invalid optional parameter for \protect\sigla}%
        {The optional parameter must be either `n' or `N'}%
      \fi
    \fi
  \fi
  \bgroup \leavevmode \M@facies #2\/\egroup \endgroup}
\newcommand{\M@super@sigla}[2][0]{%
  \begingroup
  \dimen0 =.75ex
  \advance \dimen0 by #1ex
  \dimen1 = 1em
  \relsize{-4}%
  \expandafter\M@super@sigla@check@it\f@shape\end
  \raise \dimen0 \hbox{#2}%
  \endgroup
}
\def\M@super@sigla@check@it#1#2\end{%
  \kern .05\dimen1
  \if i#1\relax
    \if t#2\relax
      \kern .05\dimen1\relax
    \fi
  \fi
}
\newcommand{\quadras}{\leavevmode \raise .16ex
  \hbox{$\scriptstyle\lbrack\mskip-\thinmuskip\lbrack$}}
\newcommand{\Quadras}{\leavevmode
  $\textstyle\lbrack\mskip-\thinmuskip\lbrack$}
\newcommand{\quadrad}{\leavevmode \raise .16ex
  \hbox{$\scriptstyle\rbrack\mskip-\thinmuskip\rbrack$}}
\newcommand{\Quadrad}{\leavevmode
  $\textstyle\rbrack\mskip-\thinmuskip\rbrack$}
\newcommand{\angus}{\leavevmode
  \raise .16ex\hbox{$\scriptstyle\langle$}}
\newcommand{\Angus}{\leavevmode $\textstyle\langle$}
\newcommand{\angud}{\leavevmode
   \raise .16ex\hbox{$\scriptstyle\rangle$}}
\newcommand{\Angud}{\leavevmode $\textstyle\rangle$}
\newcommand{\crux}{\leavevmode
  \bgroup\M@cmr\textdagger\egroup}
\newcommand{\Crux}{\leavevmode
  \bgroup\M@cmr\relsize{1}\textdagger\egroup}
\newcommand{\alas}{\leavevmode \bgroup\M@cmr\{\egroup}
\newcommand{\Alas}{\leavevmode
  \bgroup\M@cmr\relsize{1}\{\egroup}
\newcommand{\alad}{\leavevmode \bgroup\M@cmr\}\egroup}
\newcommand{\Alad}{\leavevmode
  \bgroup\M@cmr\relsize{1}\}\egroup}
\newcommand{\semi}[1]{%
  \ifx [#1\relax \M@semi@lb
  \else
    \ifx ]#1\relax \M@semi@rb
    \else
      \PackageError{metre}{Invalid argument for \protect\semi}%
      {\protect\semi must be followed by \lbrack or \rbrack}%
    \fi
  \fi
}
\def\M@semi@lb{\leavevmode
  \setbox0=\hbox{o}%
  \setbox0=\hbox to .67\wd0{%
    \hss
    \vrule height .5ex width .5pt depth .5ex
    \lower .5ex \hbox to .6ex{%
       \leaders\hrule height .4pt\hfill}%
  }%
  \box0\relax
}
\def\M@semi@rb{\leavevmode
  \setbox0=\hbox{o}%
  \setbox0=\hbox to .67\wd0{%
    \lower .5ex \hbox to .6ex{%
      \leaders\hrule height .4pt\hfill}%
    \vrule height .5ex width .5pt depth .5ex
    \hss
  }%
  \box0\relax
}
\newcommand{\anaclasis}[1][0]{\M@anaclasis0{#1}}
\newcommand{\Anaclasis}[1][0]{\M@anaclasis1{#1}}
\def\M@anaclasis#1#2{\leavevmode
  \setbox0=\hbox{$\ifnum #1=\z@
                    \scriptscriptstyle
                  \else
                    \scriptstyle
                  \fi
                  \div$}%
  \dimen0=\ifnum #1=\z@ .215\else .105\fi ex
  \advance \dimen0  by #2ex
  \raisebox {\dimen0}[\z@][\z@]{\box0}%
}
\newcommand{\antisigma}[1][0]{\M@antisigma0{#1}}
\newcommand{\Antisigma}[1][0]{\M@antisigma1{#1}}
\def\M@antisigma#1#2{\leavevmode
  \setbox0=\hbox{$\ifnum #1=\z@
                    \scriptscriptstyle
                  \else
                    \scriptstyle
                  \fi
                  \supset$}%
  \dimen0=\ifnum #1=\z@ .19\else .105\fi ex
  \advance \dimen0 by #2ex
  \raisebox {\dimen0}[\z@][\z@]{\box0}%
}
\newcommand{\asteriscus}[1][0]{\M@aster0{#1}}
\let\asteriskos=\asteriscus
\newcommand{\Asteriscus}[1][0]{\M@aster1{#1}}
\let\Asteriskos=\Asteriscus
\def\M@aster#1#2{\leavevmode
  \dimen1=1ex
  \begingroup
  \relsize {\ifnum #1=\z@ 1\else 2\fi}%
  \setbox0=\hbox{$\times$}%
  \setbox1=\hbox{$\cdot$}%
  \ht0=.82\ht0
  \setbox2=\hbox to .675\wd0{%
    \hss
    \copy0
    \kern -\wd0
    \rlap{\kern .1\wd0   \raise 0\ht0    \copy1}%
    \rlap{\kern .32\wd0 \raise .35\ht0  \copy1}%
    \rlap{\kern \ifnum #1=\z@ .55 \else .525\fi \wd0
          \raise 0\ht0 \copy1}%
    \rlap{\kern .32\wd0 \raise -.35\ht0 \copy1}%
    \kern \wd0
    \hss
  }%
  \dimen0=-\ifnum #1=\z@ .1\else .2\fi\dimen1
  \advance \dimen0 by #2\dimen1
  \raisebox {\dimen0}[\z@][\z@]{\box2}%
  \endgroup
}
\newcommand{\catalexis}[1][0]{\M@catalexis 0{#1}}
\newcommand{\Catalexis}[1][0]{\M@catalexis 1{#1}}
\def\M@catalexis#1#2{\leavevmode
  \setbox0=\hbox{$\ifnum #1=\z@
                    \scriptscriptstyle
                  \else
                    \scriptstyle
                  \fi
                  \wedge$}%
  \kern -.05\wd0
  \dimen0=-\ifnum #1=\z@ .22\else .45\fi ex
  \advance \dimen0 by #2ex
  \raisebox {\dimen0}[\z@][\z@]{\box0}%
  \kern .05\wd0\relax
}
\newcommand{\diple}{%
  \@ifstar{\M@starredtrue\M@bigfalse\M@diple}%
          {\M@starredfalse\M@bigfalse\M@diple}}
\newcommand{\Diple}{%
  \@ifstar{\M@starredtrue\M@bigtrue\M@diple}%
          {\M@starredfalse\M@bigtrue\M@diple}}
\newcommand{\M@diple}[1][0]{\leavevmode
  \setbox0=\hbox{%
    $\ifM@big \textstyle \else \scriptstyle \fi>$}%
  \dimen0=\ifM@big -.05 \else .1 \fi ex
  \dimen1=#1ex
  \advance \dimen1 by \dimen0
  \raisebox {\dimen1}[\z@][\z@]{\copy0}%
  \ifM@starred
    \ifM@big
      \kern -.25\wd0 \dimen0=.55\ht0
    \else
      \kern -.2\wd0  \dimen0=.45\ht0
    \fi
    \advance \dimen0 by \dimen1
    \raisebox {\dimen0}[\z@][\z@]%
      {\hbox to 0pt{\hss $\scriptstyle\cdot$}}%
    \dimen0=\ifM@big -.275 \else -.475 \fi \ht0
    \advance \dimen0 by \dimen1
    \raisebox {\dimen0}[\z@][\z@]%
      {\hbox to 0pt{\hss $\scriptstyle\cdot$}}%
    \kern \ifM@big .25 \else .2 \fi \wd0
  \fi
}
\newcommand{\antidiple}{%
  \@ifstar{\M@starredtrue\M@bigfalse\M@antidiple}%
          {\M@starredfalse\M@bigfalse\M@antidiple}}
\newcommand{\Antidiple}{%
  \@ifstar{\M@starredtrue\M@bigtrue\M@antidiple}%
          {\M@starredfalse\M@bigtrue\M@antidiple}}
\newcommand{\M@antidiple}[1][0]{\leavevmode
  \setbox0=\hbox{%
    $\ifM@big \textstyle \else \scriptstyle \fi<$}%
  \dimen0=\ifM@big -.05 \else .1 \fi ex
  \dimen1=#1ex
  \advance \dimen1 by \dimen0
  \raisebox {\dimen1}[\z@][\z@]{\copy0}%
  \ifM@starred
    \ifM@big
      \kern -.5\wd0
      \dimen0=.55\ht0
    \else
      \kern -.45\wd0
      \dimen0=.45\ht0
    \fi
    \advance \dimen0 by \dimen1
    \raisebox {\dimen0}[\z@][\z@]%
      {\hbox to 0pt{\hss $\scriptstyle\cdot$}}%
    \dimen0=\ifM@big -.325 \else -.5 \fi \ht0
    \advance \dimen0 by \dimen1
    \raisebox {\dimen0}[\z@][\z@]%
      {\hbox to 0pt{\hss $\scriptstyle\cdot$}}%
    \kern \ifM@big .5 \else .45 \fi \wd0
  \fi
}
\newcommand{\obelus}{%
  \@ifstar{\M@starredtrue\M@bigfalse\M@obelus}%
          {\M@starredfalse\M@bigfalse\M@obelus}}
\let\obelos=\obelus
\newcommand{\Obelus}{%
  \@ifstar{\M@starredtrue\M@bigtrue\M@obelus}%
          {\M@starredfalse\M@bigtrue\M@obelus}}
\let\Obelos=\Obelus
\newcommand{\M@obelus}[1][0]{\leavevmode
    \setbox0=\hbox to
      \ifM@big
        \ifM@starred 1 \else 1.5 \fi
      \else
        \ifM@starred .89 \else 1.33 \fi
      \fi em
      {\leaders \hrule height .33pt\hfill}%
    \setbox1=\hbox{$\cdot$}%
    \ifM@starred
       \setbox0=\hbox{%
         \copy0
         \dimen0=\wd0
         \advance \dimen0 by \wd1
         \divide \dimen0 by 2
         \kern -\dimen0
         \rlap{\lower .1ex \copy1}%
         \rlap{\lower 1ex \copy1}%
         \kern \dimen0
       }%
    \fi
    \dimen0=.48ex
    \advance \dimen0 by #1ex
    \raisebox {\dimen0}[\z@][\z@]{\box0}%
}
\newcommand{\respondens}{\M@bigfalse\M@respondens}
\newcommand{\Respondens}{\M@bigtrue\M@respondens}
\newcommand{\M@respondens}[1][0]{\leavevmode
  \setbox0=\hbox{%
    $\ifM@big \textstyle \else \scriptstyle \fi \sim$}%
  \dimen0=\ifM@big -.05 \else .1 \fi ex
  \advance \dimen0 by #1ex
  \kern .067em
  \raisebox {\dimen0}[\z@][\z@]{\box0}%
}
\newcommand{\terminus}{%
  \@ifstar{\M@starredtrue\M@bigfalse\M@terminus}%
          {\M@starredfalse\M@bigfalse\M@terminus}}
\newcommand{\Terminus}{%
  \@ifstar{\M@starredtrue\M@bigtrue\M@terminus}%
          {\M@starredfalse\M@bigtrue\M@terminus}}
\newcommand{\M@terminus}[1][0]{\leavevmode
  \setbox0=\hbox{%
    $\ifM@big \textstyle \else \scriptstyle \fi
     \ifM@starred \oplus \else \otimes \fi$}%
  \dimen0=\ifM@big -.1 \else .1 \fi ex
  \advance \dimen0 by #1ex
  \raisebox {\dimen0}[\z@][\z@]{\box0}%
}
\newcommand{\margini}{%
  \@ifstar{\M@margini@star}{\M@margini@nostar}}
\newcommand{\M@margini@star}[2][0pt]{\M@margini{1}{#1}{#2}}
\newcommand{\M@margini@nostar}[2][0pt]{\M@margini{0}{#1}{#2}}
\def\M@margini#1#2#3{\leavevmode
  \setbox1=\hbox{#3}%
  \strut
  \vadjust{%
    \kern -\dp\strutbox
    \ifnum #1=\@ne
      \hfill
    \fi
    \dimen0=1em
    \advance \dimen0 by #2\relax
    \vtop to \dp\strutbox{%
      \baselineskip\dp\strutbox
      \vss
      \ifnum #1=\@ne
        \rlap{\kern \dimen0\copy1}%
      \else
        \llap{\copy1\kern \dimen0}%
      \fi
      \null
    }%
  }%
  \ignorespaces
}
\newcommand{\acutus}[2][0]{\M@movable@accent{#1}{#2}{19}}
\newcommand{\gravis}[2][0]{\M@movable@accent{#1}{#2}{18}}
\newcommand{\macron}[2][0]{\M@movable@accent{#1}{#2}{22}}
\edef\Breve{\breve}
\renewcommand{\breve}[2][0]{\M@movable@accent{#1}{#2}{21}}
\newcommand{\circumflexus}[2][0]{\M@movable@accent{#1}{#2}{126}}
\newcommand{\diaeresis}[2][0]{\M@movable@accent{#1}{#2}{127}}
\def\M@movable@accent#1#2#3{\leavevmode
  \begingroup
  \setbox0=\hbox{#2}%
  \copy0
  \kern -\wd0
  \dimen0 = \ht0
  \ifdim \dimen0=\z@
      \dimen0=1ex
  \fi
  \advance \dimen0 by -1ex
  \advance \dimen0 by #1ex
  \raise \dimen0
    \hbox to \wd0{%
      \hss \begingroup \M@cmr \char#3 \endgroup \hss}%
  \endgroup
}
\newcommand{\cons}[1]{%
  \setbox0=\hbox{#1}%
  \copy0
  \kern -\wd0
  \setbox1=\hbox{\hss\begingroup\tencirc\char3\char0\endgroup}%
  \setbox1=\hbox to \wd0{\hss\kern .5\wd1\box1\hss}%
  \dimen0=-.5\ht1
  \ifdim \z@<\dp0
    \advance \dimen0 by -.5\dp0
  \fi
  \raise \dimen0 \box1\relax
}
\newcommand{\dubia}{\@ifstar{\M@dubia@star}{\M@dubia}}
\def\M@dubia@star#1{\M@dubia@ibycus{#1}}
\def\M@dubia#1{\leavevmode
  \setbox0=\hbox{[}%
  \dimen0=\dp0
  \setbox0=\hbox{#1}%
  \ifdim \dp0=\z@
     \dimen2=-.5ex
  \else
    \dimen2=-1.75\dimen0
  \fi
  \setbox1=\hbox{\bgroup \M@cmr .\egroup}%
  \dimen3=\z@
  \M@Stack 0\relax
}
\def\M@dubia@ibycus#1{\leavevmode
  \ifnum \M@ibycus=\@ne
    #1!%
  \else
    \PackageError{metre}{\protect\dubia* requires ibycus4}{}%
  \fi
}
\newcommand{\dubiae}{\@ifstar{\M@dubiae@star}{\M@dubiae@nostar}}
\def\M@dubiae@star#1{\expandafter\M@dubiae@ibycus#1\end}
\def\M@dubiae@nostar#1{\M@dubiae#1\end}
\def\M@dubiae#1{\leavevmode
  \let\next=\M@dubiae
  \ifx #1\end
     \let\next=\relax
  \else
     \ifx #1\positio
       #1\relax \else
     \ifx #1\Positio
       #1\relax \else
     \ifx #1\pos
       #1\relax \else
     \ifx #1\Pos
       #1\relax
     \else
       \setbox0=\hbox{[}%
       \dimen0=\dp0
       \setbox0=\hbox{#1}%
       \ifdim \dp0=\z@
         \dimen2=-.5ex
       \else
         \dimen2=-1.75\dimen0
       \fi
       \setbox1=\hbox{\bgroup \M@cmr .\egroup}%
       \dimen3=\z@
       \M@Stack 0\relax
    \fi\fi\fi\fi
  \fi
  \next
}
\def\M@dubiae@ibycus#1{\leavevmode
  \ifx #1\end
     \let\next=\relax
  \else
    \ifnum \M@ibycus=\z@
      \PackageError{metre}{\protect\dubiae* requires ibycus4}{}%
    \fi
    \ifx #1\positio #1\relax \else
    \ifx #1\Positio #1\relax \else
    \ifx #1\pos #1\relax \else
    \ifx #1\Pos #1\relax \else
      #1!\relax
    \fi\fi\fi\fi
    \let\next=\M@dubiae@ibycus
  \fi
  \next
}
\newcommand{\erasa}[1][1]{\leavevmode
  \@tempcnta=#1\relax
  \@whilenum \@tempcnta>\z@ \do
    {\M@erasa \advance \@tempcnta by \m@ne}%
}
\def\M@erasa{%
  \setbox0=\hbox{\vrule width .025em depth .4ex height 1.5ex}%
  \kern .125em
  \copy0  \kern .125em
  \copy0  \kern .125em
  \copy0  \kern .115em\relax
}
\newcommand{\positio}{\leavevmode
 \raise .85ex \hbox{\vrule width .02em depth \z@ height .75ex}%
}
\newcommand{\Positio}{\leavevmode
  \raise .75ex \hbox{\vrule width .02em depth \z@ height .94ex}%
}
\newcommand{\punctum}{\@ifnextchar[{\M@punctum}{\M@punctum[1]}}
\def\M@punctum[#1]{\leavevmode
  \@tempcnta=#1\relax
  \@whilenum \@tempcnta>\z@ \do
    {\M@@punctum \advance \@tempcnta by \m@ne}%
}
\def\M@@punctum{%
  \setbox0=\hbox{[}%
  \setbox1=\hbox to .5em{\hss \bgroup \M@cmr .\egroup \hss}%
  \lower .9\dp0 \box1\relax
}
\newcommand{\Punctum}{\@ifnextchar[{\M@Punctum}{\M@Punctum[1]}}
\def\M@Punctum[#1]{\leavevmode
  \@tempcnta=#1\relax
  \@whilenum \@tempcnta>\z@ \do
    {\M@@Punctum \advance \@tempcnta by \m@ne}%
}
\def\M@@Punctum{%
  \setbox0=\hbox{[}%
  \setbox1=\hbox{%
    \begingroup \M@cmr
    {\relsize{-4}\hbox{(}\kern -.15em}%
    .%
    {\relsize{-4}\kern -.15em\hbox{)}}%
    \endgroup
  }%
  \lower .9\dp0 \copy1\relax
}
\newcommand{\tie}{\@ifstar\M@tie@star\M@tie@nostar}
\newcommand{\itie}{\@ifstar\M@itie@star\M@itie@nostar}
\newcommand{\M@tie@star}[2][1]{\M@tie{#2}{0}{1}{#1}}
\newcommand{\M@tie@nostar}[2][1]{\M@tie{#2}{0}{0}{#1}}
\newcommand{\M@itie@star}[2][1]{\M@tie{#2}{1}{0}{#1}}
\newcommand{\M@itie@nostar}[2][1]{\M@tie{#2}{1}{1}{#1}}
\def\M@tie#1#2#3#4{%
  \leavevmode
  \setbox0=\hbox{#1}%
  \ifnum \M@metra=\@ne
    \global\M@dim@sunk=\z@
  \fi
  \dimen3=\z@
  \ifM@inter
    \dimen3=\M@interS\M@dim@m%
  \fi
  \ifdim \ht0=\z@ %      tie over space
    \ifdim \z@=\dp0
      \ht0=1ex
    \fi
  \fi
  \dimen0=#4\wd0
  \ifnum \M@metra=\@ne
    \dimen0=.6\dimen0
  \fi
  \begingroup
  \relsize{-10}%
  \wd1=\z@
  \@whiledim \wd1<.95\dimen0 \do{%
    \ifx \@currsize \Huge
      \dimen0=\z@
    \else
      $%
      \dimen1=\f@baselineskip
      \fontencoding{OML}\fontfamily{cmm}\fontseries{m}%
      \fontshape{it}\fontsize{\ssf@size}{\dimen1}\selectfont
      \global\setbox1=\hbox{%
        \hss\symbol{"5\ifnum 0=#2F\else E\fi}\hss}%
      \ifdim \wd1<\dimen0
        \fontsize{\sf@size}{\dimen1}\selectfont
        \global\setbox1=\hbox{%
          \hss\symbol{"5\ifnum 0=#2F\else E\fi}\hss}%
        \ifdim \wd1<\dimen0
          \fontsize{\tf@size}{\dimen1}\selectfont
          \global\setbox1=\hbox{%
            \hss\symbol{"5\ifnum 0=#2F\else E\fi}\hss}%
        \fi
      \fi
      $%
    \fi
    \ifdim \wd1<\dimen0
      \relsize{+1}%
    \fi
    \global\dimen4=\fontdimen5\the\font
  }%
  \endgroup
  \ifnum #3=\z@
    \dimen2=1.067\ht0
    \divide \dimen4 by 2
    \advance \dimen4 by -\ht1
    \advance \dimen2 by .6\dimen4
  \else
    \dimen2=-1.05\ht1
    \advance \dimen2 by -.75pt
  \fi
  \ifnum #3=\@ne
    \ifdim \z@<\dp0
      \advance \dimen2 by -1\dp0
    \fi
  \fi
  \ifnum \M@metra=\@ne
    \advance \dimen2 by -\M@dim@sunk
  \fi
  \M@Stack 0\relax
}
\newcommand{\M@linea@star}[1][0]{\M@linea{1}{#1\baselineskip}}
\newcommand{\M@linea@nostar}[1][0]{\M@linea{0}{#1\baselineskip}}
\def\M@linea#1#2{%
  \leavevmode
  \let\next=\relax
  \ifnum #1=\@ne
    \let\next=\@gobble
  \fi
  \global\M@linea@length=\dimen2
  \dimen0=.75\baselineskip
  \ifM@imago
    \advance \dimen0 by #2\relax
    \global\M@linea@indent=\z@
  \else
    \advance \dimen3 by #2\relax
    \vadjust{\kern \dimen3}%
    \ifnum #1=\@ne
      \par
    \else
      \\%
    \fi
    \leavevmode
    \kern \dimen1
    \global\M@linea@indent=\dimen1
  \fi
  \raisebox {\dimen0}[\z@][\z@]%
    {\hbox to \dimen2{\leaders\hrule\hfill}}%
  \global\M@linea@height=\dimen0
  \ifM@imago
  \else
    \dimen0=\dimen2
    \advance \dimen0 by \dimen1
    \kern -\dimen0
  \fi
  \if \M@before@linea\relax
  \else
    \expandafter\M@@before@linea\M@before@linea
  \fi
  \next
}
\newcommand{\geminata}{%
  \@ifstar{\M@geminata@star}{\M@geminata@nostar}}
\newcommand{\M@geminata@star}[1][0]%
  {\M@geminata{1}{#1\baselineskip}}
\newcommand{\M@geminata@nostar}[1][0]%
  {\M@geminata{0}{#1\baselineskip}}
\def\M@geminata#1#2{%
  \leavevmode
  \M@linea@dimentrue \linea \M@linea@dimenfalse
  \let\next=\relax
  \ifnum #1=\@ne \let\next=\@gobble \fi
  \dimen0=.75\baselineskip
  \ifM@imago
    \advance \dimen0 by #2\relax
  \else
    \advance \dimen3 by #2\relax
    \vadjust{\kern \dimen3}%
    \ifnum #1=\@ne \par \else \\\fi
    \leavevmode
    \kern \dimen1
  \fi
  \raisebox {\dimen0}[\z@][\z@]%
    {\hbox to \dimen2{\leaders\hrule\hfill}}%
  \kern -\dimen2
  \advance \dimen0 by -.075\baselineskip
  \global\M@linea@height=\dimen0
  \advance \dimen0 by -.075\baselineskip
  \raisebox {\dimen0}[\z@][\z@]%
    {\hbox to \dimen2{\leaders\hrule\hfill}}%
  \ifM@imago
  \else
    \dimen0=\dimen2
    \advance \dimen0 by \dimen1
    \kern -\dimen0
  \fi
  \next
}
\newcommand{\bifida}{\def\M@before@linea{0}\linea}
\let\lineabifida=\bifida
\newcommand{\Bifida}{\def\M@before@linea{1}\linea}
\let\Lineabifida=\Bifida
\newcommand{\lunata}{\def\M@before@linea{2}\linea}
\let\linealunata=\lunata
\newcommand{\Lunata}{\def\M@before@linea{3}\linea}
\let\Linealunata=\Lunata
\def\M@@before@linea#1{%
  \leavevmode
  \begingroup
  \M@cmr
  \ifM@imago
    \dimen0=-\M@linea@length
  \else
    \dimen0=\M@linea@indent
  \fi
  \dimen1=\M@linea@height
  \ifcase #1\relax
    \setbox0=\hbox{$\scriptscriptstyle>$}%
    \ifcase \@ptsize
      \advance \dimen1 by -.327\ht0
      \dimen2=-.785\wd0
    \or
      \advance \dimen1 by -.357\ht0
      \dimen2=-.78\wd0
    \or
      \advance \dimen1 by -.33\ht0
      \dimen2=-.78\wd0
    \fi
  \or
    \setbox0=\hbox{$\scriptstyle>$}%
    \ifcase \@ptsize
      \advance \dimen1 by -.357\ht0
      \dimen2=-.81\wd0
    \or
      \advance \dimen1 by -.405\ht0
      \dimen2=-.78\wd0
    \or
      \advance \dimen1 by -.395\ht0
      \dimen2=-.78\wd0
    \fi
  \or
    \setbox0=\hbox{)}%
    \dimen2=-.725\wd0
    \advance \dimen1 by -.28\ht0
  \or
    \setbox0=\hbox{\bgroup \relsize{+1})\egroup}%
    \dimen2=-.6\wd0
    \advance \dimen1 by -.28\ht0
  \fi
  \kern \dimen0   \kern \dimen2
  \ifM@imago
  \else
    \global\advance\M@linea@indent by \dimen2
  \fi
  \global\advance \M@linea@length by -\dimen2
  \raisebox {\dimen1}[\z@][\z@]{\copy0}%
  \advance \dimen2 by \wd0
  \kern -\dimen0
  \kern -\dimen2
  \endgroup
  \def\M@before@linea{\relax}%
}
\newcommand{\antelineam}{\M@adlineam{0}}
\newcommand{\postlineam}{\M@adlineam{1}}
\def\M@adlineam#1#2{\leavevmode
  \setbox0=\hbox{\hss
    \bgroup #2\relax \global\dimen0=-.5ex \egroup \hss}%
  \kern \M@linea@indent
  \ifnum #1=\z@
     \kern -\wd0
  \else
     \kern \M@linea@length
  \fi
  \advance \dimen0 by \M@linea@height
  \raisebox {\dimen0}[\z@][\z@]{\copy0}%
  \kern -\M@linea@indent
  \ifnum #1=\z@
  \else
     \kern -\wd0
     \kern -\M@linea@length
  \fi
}
\newcommand{\coronis}{%
  \@ifstar{\M@coronis@star}{\M@coronis@nostar}}
\let\koronis=\coronis
\newcommand{\M@coronis@star}[1][0]%
  {\M@coronis{1}{#1\baselineskip}}
\newcommand{\M@coronis@nostar}[1][0]%
  {\M@coronis{0}{#1\baselineskip}}
\def\M@coronis#1#2{\leavevmode
  \let\next=\relax
  \begingroup
    \normalsize
    \global\dimen2=\baselineskip
  \endgroup
  \ifcase \@ptsize
    \dimen0=.67em
  \or
    \dimen0=.7em
  \or
    \dimen0=.65em
  \fi
  \ifM@imago
    \dimen3=\z@
    \advance \dimen3 by #2\relax
  \else
    \ifnum #1=\@ne \let\next=\@gobble \fi
    \vadjust{\kern #2}%
    \ifnum #1=\@ne \par \else \\\fi
    \leavevmode
    \kern -1.6\dimen0
  \fi
  \dimen1=.75\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{\leaders \hrule \hfill}}%
  \global\M@linea@length=\dimen0
  \global\M@linea@height=\dimen1
  \kern -\dimen0
  \dimen1=\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[0pt][0pt]%
    {\hbox to \dimen0{%
     \hss \hbox to .6\dimen0{\leaders \hrule \hfill}\hss}}%
  \kern -\dimen0
  \dimen1=1.1\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[0pt][0pt]%
    {\hbox to \dimen0{%
      \hss \hbox to .4\dimen0{\leaders \hrule \hfill}\hss}}%
  \kern -\dimen0
  \dimen1=1.2\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{%
      \hss\hbox to .25\dimen0{\leaders \hrule \hfill}\hss}}%
  \kern -\dimen0
  \dimen1=\if \@ptsize 2 .375\else .35\fi\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{%
      \hss \hbox to .6\dimen0{\leaders \hrule \hfill}\hss}}%
  \kern -\dimen0
  \dimen1=\if \@ptsize 2 .275\else .25\fi\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[0pt][0pt]%
    {\hbox to \dimen0{%
     \hss \hbox to .4\dimen0{\leaders \hrule \hfill}\hss}}%
  \kern -\dimen0
  \dimen1=\if \@ptsize 2 .175\else .15\fi\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{%
     \hss \hbox to .25\dimen0{\leaders \hrule \hfill}\hss}}%
  \kern -\dimen0
  \setbox0=\hbox{\begingroup
    \fontencoding{OT1}\fontfamily{cmr}\fontseries{m}%
    \fontshape{it}\selectfont ,\endgroup}%
  \dimen1=\if \@ptsize 2 0\else -.03\fi\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{\hss \kern -.1\wd0\box0\hss}}%
  \kern -\dimen0
  \setbox0=\hbox{\begingroup
    \fontencoding{OT1}\fontfamily{cmr}\fontseries{m}%
    \fontshape{it}\selectfont \char'140 \endgroup}%
  \dimen1=.97\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{\hss \kern -.5\wd0\box0\hss}}%
  \kern -\dimen0
  \setbox0=\hbox{\begingroup \tencirc \char"61 \endgroup}%
  \setbox0=\hbox{\begingroup
    \kern 1.1\wd0 \tencirc \char"61 \endgroup}%
  \dimen1=\if \@ptsize 2 .85\else .86\fi\dimen2
  \ifM@imago \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[0pt][0pt]%
    {\hbox to \dimen0{\hss \box0 \hss}}%
  \kern -\dimen0
  \setbox0=\hbox{%
    \hss \begingroup \tencirc \char"63 \endgroup \hss}%
  \setbox0=\hbox{\hss \begingroup
    \kern 1.05\wd0 \tencirc \char"63 \endgroup \hss}%
  \dimen1=\if \@ptsize 2 .61\else .59\fi\dimen2
  \ifM@imago  \advance \dimen1 by \dimen3 \fi
  \raisebox {\dimen1}[\z@][\z@]%
    {\hbox to \dimen0{\hss \box0 \hss}}%
  \ifM@imago
  \else
    \kern .6\dimen0
  \fi
  \next
}
\newcommand{\imago}{\@ifstar{\M@imago@star}{\M@imago@nostar}}
\newcommand{\M@imago@star}[2][0]{\M@imago{1}{#1}{#2}}
\newcommand{\M@imago@nostar}[2][0]{\M@imago{0}{#1}{#2}}
\def\M@imago#1#2#3{\leavevmode
  \setbox0=\hbox{\begingroup \M@imagotrue {#3[#2]}\endgroup}%
  \setbox1=\hbox to \M@linea@length{%
    \hss
    \ifnum #1=\@ne
      \dimen0=\M@linea@height
      \advance \dimen0 by -.4ex
      \raisebox {-\dimen0}[\z@][\z@]{\box0}%
    \else
      \box0
    \fi
  }%
  \box1\relax
}
\newcommand{\novalinea}[4]{%
  \def#1{\leavevmode
         \dimen1=#2\relax \dimen2=#3\relax
         \dimen3=#4\baselineskip
         \ifM@linea@dimen
           \let\next=\relax
         \else
           \let\next=\M@do@linea
         \fi
         \next}%
}
\def\M@do@linea{\@ifstar{\M@linea@star}{\M@linea@nostar}}
\newcommand{\novageminata}[4]{%
  \def#1{\leavevmode
         \dimen1=#2\relax \dimen2=#3\relax
         \dimen3=#4\baselineskip
         \@ifstar{\M@geminata@star}{\M@geminata@nostar}}%
}
\novalinea{\linea}{-.75em}{1.5em}{.15}
\newcommand{\lineola}[2][0]{\leavevmode
  \dimen0=.75\baselineskip
  \advance \dimen0 by #1\baselineskip
  \raisebox {\dimen0}[\z@][\z@]%
    {\hbox to #2{\leaders \hrule \hfill}}%
  \kern -#2\relax
}
\newcommand{\Lineola}[2][0]{\leavevmode
  \setbox0=\hbox{#2}%
  \copy0 \kern -\wd0
  \lineola[#1]{\wd0}%
  \kern \wd0\relax
}
\newcommand{\structa}[3][0]{\leavevmode
  \setbox0=\hbox{\begingroup #2\endgroup}%
  \ifdim \ht0=\z@
    \ifdim \dp0=\z@
      \ht0=1ex
    \fi
  \fi
  \setbox1=\hbox to \wd0{\hss\begingroup #3\endgroup\hss}%
  \dimen2 = \ht0
  \advance \dimen2 by .15ex
  \advance \dimen2 by #1ex
  \dimen3 = \z@
  \M@Stack 0\relax
}
%% \Finale
\endinput
%%
%% End of file `metre.sty'.
