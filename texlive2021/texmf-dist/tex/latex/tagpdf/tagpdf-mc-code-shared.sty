%%
%% This is file `tagpdf-mc-code-shared.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% tagpdf-mc.dtx  (with options: `shared')
%% 
%% Copyright (C) 2019 Ulrike Fischer
%% 
%% It may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License (LPPL), either version 1.3c of
%% this license or (at your option) any later version.  The latest
%% version of this license is in the file:
%% 
%%    https://www.latex-project.org/lppl.txt
%% 
%% This file is part of the "tagpdf bundle" (The Work in LPPL)
%% and all files in that bundle must be distributed together.
%% 
%% File: tagpdf-mc.dtx
\ProvidesExplPackage {tagpdf-mc-code-shared} {2021/02/23} {0.80}
  {part of tagpdf - code related to marking chunks -
   code shared by generic and luamode }

\newcounter { g__tag_MCID_abs_int }
\cs_new:Nn \__tag_get_mc_abs_cnt: { \int_use:N \c@g__tag_MCID_abs_int }


\cs_new:Nn \__tag_mc_handle_mc_label:n
  {
    \__tag_ref_label:en{tagpdf-#1}{mc}
  }

\__tag_prop_new:N \g__tag_mc_parenttree_prop

\tl_new:N \l__tag_mc_artifact_type_tl

\keys_define:nn { __tag / mc }
  {
    stash                  .bool_set:N    = \l__tag_mc_key_stash_bool,
    artifact-bool          .bool_set:N    = \l__tag_mc_artifact_bool,
    artifact-type          .choice:,
    artifact-type / pagination .code:n    =
      {
        \tl_set:Nn \l__tag_mc_artifact_type_tl { Pagination }
      },
    artifact-type / layout     .code:n    =
      {
        \tl_set:Nn \l__tag_mc_artifact_type_tl { Layout }
      },
    artifact-type / page       .code:n    =
      {
        \tl_set:Nn \l__tag_mc_artifact_type_tl { Page }
      },
    artifact-type / background .code:n    =
      {
        \tl_set:Nn \l__tag_mc_artifact_type_tl { Background }
      },
    artifact-type / notype     .code:n    =
      {
        \tl_set:Nn \l__tag_mc_artifact_type_tl {}
      },
     artifact-type /      .code:n    =
      {
        \tl_set:Nn \l__tag_mc_artifact_type_tl {}
      },
  }

\cs_new_protected:Npn \tag_mc_artifact_group_begin:n #1
 {
  \tag_mc_begin:n {artifact=#1}
  \tag_stop_group_begin:
 }

\cs_new_protected:Npn \tag_mc_artifact_group_end:
 {
  \tag_stop_group_end:
  \tag_mc_end:
 }

\int_new:N \g__tag_MCID_tmp_bypage_int

%% 
%%
%% End of file `tagpdf-mc-code-shared.sty'.
