%==============================================================================
% HA-prosper -- (HAPciment.sty) Style file
% A LaTeX class for creating slides
% Author: Mathieu Goutelle (mgoutell[at]users[dot]sourceforge[dot]net)
%         UREC CNRS, France
%
% Copyright (c) 2004 Mathieu Goutelle
% All rights reserved.
%
% This program may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.2
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.2 or later is part of all distributions of LaTeX
% version 1999/12/01 or later.
%
%==============================================================================
\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{HAPciment}[2004/06/17]
\typeout{ciment style for HA-prosper}
\typeout{(c) 2004 Mathieu Goutelle, UREC CNRS, France}
\typeout{ }

\ifHAP@portrait
  \PackageError{HAPcapsules}{This template does not support portrait slides}%
  {Sorry, no additional help}%
\fi

% Required packages
\RequirePackage{amssymb}
\RequirePackage{semhelv,mathpazo}
\RequirePackage{multido}

% Colors
\newrgbcolor{mydarkred}{0.7 0.1 0.1}
\newrgbcolor{mydarkgray}{0.2 0.2 0.2}
\newrgbcolor{mylightgray}{0.7 0.7 0.7}
\newrgbcolor{HAP@textc}{0 0 0}
\newrgbcolor{HAP@framecolor}{0.2 0.2 0.2}

\newrgbcolor{HAP@hcolor}{0.7 0.1 0.1}  % Highlight frame color
\newrgbcolor{HAP@htcolor}{1 1 1}       % Highlight text color

% The fonts
\FontTitle{%
  \usefont{T1}{phv}{b}{n}\fontsize{14.4pt}{14.4pt}\selectfont\mydarkred}{%
  \usefont{T1}{phv}{b}{n}\fontsize{14.4pt}{14.4pt}\selectfont\mydarkred}
\FontText{%
  \usefont{T1}{phv}{m}{n}\fontsize{10pt}{10pt}\selectfont\black}{%
  \usefont{T1}{phv}{m}{n}\fontsize{10pt}{10pt}\selectfont\black}

\def\@fontSubtitleColor{\@fontTitleColor\fontsize{14pt}{14pt}\selectfont\itshape}

\FontLeftFoot{\@fontTextColor\fontsize{4pt}{4pt}\selectfont\mydarkgray}%
  {\@fontTextColor\fontsize{4pt}{4pt}\selectfont\mydarkgray}
\FontRightFoot{\@fontTextColor\fontsize{4pt}{4pt}\selectfont\mydarkgray}%
  {\@fontTextColor\fontsize{4pt}{4pt}\selectfont\mydarkgray}

% Positionning of the title of a slide.
\newlength{\CimentTitleLength}
\setlength{\parindent}{0pt}
\def\slidetitle#1{%
  \rput[lt](-0.8,4.8){%
    \parbox[t]{11cm}{%
      \settowidth{\CimentTitleLength}{\fontTitle{#1}}%
      \addtolength{\CimentTitleLength}{0.1cm}%
      {\fontTitle{#1}}\\%
      \psline[linewidth=3pt,linecolor=mydarkred](-0.05,0.4)(\CimentTitleLength,0.4)%
      \psline[linewidth=1pt,linecolor=mydarkred](\CimentTitleLength,0.424)(12.1,0.424)%
    }%
  }%
  \null\\[-1.2cm]%
}

\newcommand{\TitleSlide}[1]{
  \multirput(0,2pt){160}{\psline[linecolor=mylightgray,linewidth=0.5pt](-2,-2)(13,-2)}%

  \psline[linewidth=1pt,linecolor=mydarkred](-1.5,-0.8)(11.4,-0.8)%
  \HAP@PutLF{tl}{-1.45,-.9}%
  \HAP@PutRF{tr}{11.35,-.9}%

  {#1}}

\newcommand{\NormalSlide}[1]{
  \multirput(0,2pt){160}{\psline[linecolor=mylightgray,linewidth=0.5pt](-2,-2)(13,-2)}%
  \psframe[fillstyle=solid,fillcolor=mylightgray,linestyle=none,linewidth=0pt](-2,-0.17)(0.4,7.15)%
  \ifHAP@toc%
     \rput[lt](-1.7,7){\begin{minipage}[t]{2cm}\HAP@toc\end{minipage}}%
  \fi%

  \psline[linewidth=1pt,linecolor=mydarkred](-1.5,-0.8)(11.4,-0.8)%
  \HAP@PutLF{tl}{-1.45,-.9}%
  \HAP@PutRF{tr}{11.35,-.9}%

  {#1}}

\newcommand{\SpecialSlide}[1]{
  \multirput(0,2pt){160}{\psline[linecolor=mylightgray,linewidth=0.5pt](-2,-2)(13,-2)}%

  \psline[linewidth=1pt,linecolor=mydarkred](-1.5,-0.8)(11.4,-0.8)%
  \HAP@PutLF{tl}{-1.45,-.9}%
  \HAP@PutRF{tr}{11.35,-.9}%

  {#1}}

% Style of table of contents entries
\newcommand{\HAP@tline}[1]{\guillemotright\,#1}
\newcommand{\HAP@tsectionm}{\psline[linecolor=mydarkred,linewidth=.25pt](-.05,-.05)(2,-.05)}

\myitem{1}{\raisebox{1pt}{\scriptsize\ensuremath{\blacksquare}}}
\myitem{2}{\scriptsize\ensuremath{\blacklozenge}}
\myitem{3}{\raisebox{1pt}{\scriptsize\ensuremath{\bullet}}}

\newcommand{\HAPR@titleSlide}{\NewSlideStyle[12.3cm]{tl}{-1,2.75}{TitleSlide}}
\newcommand{\HAPR@normalSlide}{\NewSlideStyle[9.78cm]{tl}{1.17,2.7}{NormalSlide}}
\newcommand{\HAPR@wideSlide}{\NewSlideStyle[12.3cm]{tl}{-1.2,2.7}{SpecialSlide}}

% \NewSlideStyle{t}{5.3,2.9}{CimentFrame}

\endinput

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
