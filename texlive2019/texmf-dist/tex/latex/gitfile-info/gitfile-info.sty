%%
%% This is file `gitfile-info.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% gitfile-info.dtx  (with options: `gitfile-info.sty,package')
%% 
%%  gitfile-info.dtx
%%  Copyright 2019-04-09:19:53:54 -- Version 0.4 André Hilbig, mail@andrehilbig.de
%% 
%%  This work may be distributed and/or modified under the
%%  conditions of the LaTeX Project Public License, either version 1.3
%%  of this license of (at your option) any later version.
%%  The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%%  and version 1.3 or later is part of all distributions of LaTeX
%%  version 2005/12/01 or later.
%% 
%%  This work has the LPPL maintenance status `maintained'.
%% 
%%  The Current Maintainer of this work is André Hilbig, mail@andrehilbig.de.
%% 
%%  This work consists of the files gitfile-info.dtx and gitfile-info.ins and the derived files gitfile-info.sty, gfi-run.py, post-commit.py, post-merge.py, gitfile-info.gfi.
%% 
%% \CharacterTable
%%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%%   Digits        \0\1\2\3\4\5\6\7\8\9
%%   Exclamation   \!     Double quote  \"     Hash (number) \#
%%   Dollar        \$     Percent       \%     Ampersand     \&
%%   Acute accent  \'     Left paren    \(     Right paren   \)
%%   Asterisk      \*     Plus          \+     Comma         \,
%%   Minus         \-     Point         \.     Solidus       \/
%%   Colon         \:     Semicolon     \;     Less than     \<
%%   Equals        \=     Greater than  \>     Question mark \?
%%   Commercial at \@     Left bracket  \[     Backslash     \\
%%   Right bracket \]     Circumflex    \^     Underscore    \_
%%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%%   Right brace   \}     Tilde         \~}
\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{gitfile-info}
    [2016/06/30 v0.2 read file infos of one specific tex-file]
\RequirePackage{ifthen}
\RequirePackage{currfile}
\RequirePackage{xparse}
\RequirePackage{tcolorbox}
\tcbuselibrary{fitting, skins, breakable}
\tcbset{center title,fonttitle=\bfseries\sffamily}
\RequirePackage{hyperref}
\providecommand{\gfiGetDay}{gfi day}
\providecommand{\gfiGetMonth}{gfi month}
\providecommand{\gfiGetYear}{gfi year}
\providecommand{\gfiGetHour}{gfi hour}
\providecommand{\gfiGetMin}{gfi min}
\providecommand{\gfiGetAuthorName}{gfi author name}
\providecommand{\gfiGetAuthorMail}{gfi author email}
\providecommand{\gfiGetDate}{gfi date}
\providecommand{\gfiGetCommit}{gfi commit}
\providecommand{\gfiGetCommitAbr}{gfi commit short}
\providecommand{\gfiSetDate}[6]{%
\renewcommand{\gfiGetDay}{#1}
\renewcommand{\gfiGetMonth}{#2}
\renewcommand{\gfiGetYear}{#3}
\renewcommand{\gfiGetHour}{#4}
\renewcommand{\gfiGetMin}{#5}
\renewcommand{\gfiGetDate}{#6}
}
\providecommand{\gfiSetAuthor}[2]{%
\renewcommand{\gfiGetAuthorName}{#1}
\renewcommand{\gfiGetAuthorMail}{#2}
}
\providecommand{\gfiSetCommit}[2]{%
\renewcommand{\gfiGetCommit}{#1}
\renewcommand{\gfiGetCommitAbr}{#2}
}
\colorlet{colback}{yellow!20!black}
\newtcolorbox{gfiInfoBox}{%
every box on layer 2/.style={reset},%
breakable,%
title=\currfilename,%
enhanced,%
attach boxed title to top right={%
yshift=-2mm,%
xshift=-3mm,%
},%
boxed title style={%
drop fuzzy shadow,%
},%
fontupper=\small,%
before skip=2mm,after skip=3mm,%
boxrule=0.4pt,left=5mm,right=2mm,top=1mm,bottom=1mm,%
colback=yellow!50,%
colframe=yellow!20!black,%
sharp corners,rounded corners=southeast,arc is angular,arc=3mm,%
underlay={%
\path[fill=colback!80!black] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
\path[draw=black!75!white,shorten <=-0.05mm,shorten >=-0.05mm] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
\path[fill=yellow!50!black,draw=none] (interior.south west) rectangle node[white,rotate=90]{\footnotesize\bfseries git} ([xshift=4mm]interior.north west);
},%
drop fuzzy shadow,%
}
\ProvideDocumentCommand{\gfiInfo}{O{none} O{none} O{none} O{gfiInfoBox}}{%
\begin{#4}
\vspace{1mm}
\textbf{Version:} \ifthenelse{\equal{#1}{none}}{\gfiGetCommit}{\gfiGetCommitAbr}\newline
\textbf{Stand:} \ifthenelse{\equal{#2}{none}}{\gfiGetDate}{#2}\newline
\textbf{Zuletzt bearbeitet von:}
\ifthenelse{\equal{#3}{none}}{\href{mailto:\gfiGetAuthorMail}{\gfiGetAuthorName}}{#3}
\vspace{1mm}
\end{#4}
}
\providecommand{\gfiCurrentConfig}{none}
\providecommand{\gfiInitJob}{%
\IfFileExists{\jobname.gfi}{%
\input{\jobname.gfi}
}{%
\@latex@warning@no@line{gitfile-info: No \jobname.gfi information-file given}
\@latex@warning@no@line{gitfile-info: All hooks and initialization run?}
}
}
\providecommand{\gfiInitInc}[1]{%
\IfFileExists{#1.gfi}{%
\input{#1.gfi}
}{%
\@latex@warning@no@line{gitfile-info: No #1.gfi information-file given}
\@latex@warning@no@line{gitfile-info: All hooks and initialization run?}
}
}
\AtBeginDocument{%
\gfiInitJob
}
\providecommand{\gfiInput}[1]{%
\gfiInitInc{#1}
\input{#1}
\gfiInitInc{\currfiledir\currfilebase}
}
\providecommand{\gfiInclude}[1]{%
\gfiInitInc{#1}
\include{#1}
\gfiInitInc{\currfiledir\currfilebase}
}
\endinput
%%
%% End of file `gitfile-info.sty'.
