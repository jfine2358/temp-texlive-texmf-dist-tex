%%
%% This is file `mikoslides.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% mikoslides.dtx  (with options: `package')
%% 
\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{mikoslides}[2016/04/06 v1.1 Jacobs slides Package]
\newif\if@mikoslides@mh@\@mikoslides@mh@false
\DeclareOption{mh}{\@mikoslides@mh@true
  \PassOptionsToPackage{\CurrentOption}{stex}
  \PassOptionsToPackage{\CurrentOption}{smglom}
  \PassOptionsToPackage{\CurrentOption}{tikzinput}}
\newif\ifnotes\notesfalse
\DeclareOption{notes}{\notestrue}
\DeclareOption{slides}{\notesfalse}
\newif\ifsectocframes\sectocframesfalse
\DeclareOption{sectocframes}{\sectocframestrue}
\newif\ifframeimages\frameimagesfalse
\DeclareOption{frameimages}{\frameimagestrue}
\newif\if@part\@partfalse
\DeclareOption{report}{\@parttrue\PassOptionsToPackage{\CurrentOption}{omdoc}}
\DeclareOption{book}{\@parttrue\PassOptionsToPackage{\CurrentOption}{omdoc}}
\newif\ifproblems\problemstrue
\DeclareOption{noproblems}{\problemsfalse}
\DeclareOption*{\PassOptionsToPackage{\CurrentOption}{stex}
                           \PassOptionsToPackage{\CurrentOption}{smglom}
                           \PassOptionsToPackage{\CurrentOption}{tikzinput}}
\ProcessOptions
\if@mikoslides@mh@\RequirePackage{mikoslides-mh}\fi
\RequirePackage{stex}
\RequirePackage{smglom}
\RequirePackage{tikzinput}
\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{comment}
\RequirePackage{textcomp}
\RequirePackage{url}
\newcounter{slide}
\newlength{\slidewidth}\setlength{\slidewidth}{12.8cm}
\newlength{\slideheight}\setlength{\slideheight}{9cm}
\ifnotes%
  \renewenvironment{note}{\ignorespaces}{}%
\else%
  \excludecomment{note}%
\fi%
\ifnotes
  \newlength{\slideframewidth}
  \setlength{\slideframewidth}{1.5pt}
  \addmetakey{frame}{label}
  \addmetakey[yes]{frame}{allowframebreaks}
  \addmetakey{frame}{allowdisplaybreaks}
  \addmetakey[yes]{frame}{fragile}
  \addmetakey[yes]{frame}{shrink}
  \addmetakey[yes]{frame}{squeeze}
  \renewenvironment{frame}[1][]{%
    \metasetkeys{frame}{#1}%
    \stepcounter{slide}%
    \def\@currentlabel{\theslide}%
    \ifx\frame@label\@empty%
    \else%
      \label{\frame@label}%
    \fi%
    \def\itemize@level{outer}%
    \def\itemize@outer{outer}%
    \def\itemize@inner{inner}%
    \renewcommand\newpage{}%
    \renewcommand\metakeys@show@keys[2]{\marginnote{{\scriptsize ##2}}}%
    \renewenvironment{itemize}{%
      \ifx\itemize@level\itemize@outer%
        \def\itemize@label{$\rhd$}%
      \fi%
      \ifx\itemize@level\itemize@inner%
        \def\itemize@label{$\scriptstyle\rhd$}%
      \fi%
      \begin{list}%
      {\itemize@label}%
      {\setlength{\labelsep}{.3em}%
       \setlength{\labelwidth}{.5em}%
       \setlength{\leftmargin}{1.5em}%
      }%
      \edef\itemize@level{\itemize@inner}%
    }{%
      \end{list}%
    }%
    \begin{mdframed}[linewidth=\slideframewidth,skipabove=1ex,skipbelow=1ex,userdefinedwidth=\slidewidth,align=center]\sf%
  }{%
    \medskip\miko@slidelabel\end{mdframed}%
  }%
  \renewcommand{\frametitle}[1]{{\Large\bf\sf\color{blue}{#1}}\medskip}%
\fi %ifnotes
\newrobustcmd\frameimage[2][]{%
  \stepcounter{slide}%
  \ifframeimages%
    \def\Gin@ewidth{}\setkeys{Gin}{#1}%
    \ifnotes%
    \else%
      \vfill%
    \fi%
    \ifx\Gin@ewidth\@empty%
      \mycgraphics[width=\slidewidth,#1]{#2}\else\mycgraphics[#1]{#2}%
    \fi%
    \par\strut\hfill{\footnotesize Slide \arabic{slide}}%
    \ifnotes%
    \else%
      \vfill%
    \fi%
  \fi%
}% ifframeimages
\newlength{\slidelogoheight}
\ifnotes%
  \setlength{\slidelogoheight}{.4cm}%
\else%
  \setlength{\slidelogoheight}{1cm}%
\fi%
\newsavebox{\slidelogo}%
\sbox{\slidelogo}{\includegraphics[height=\slidelogoheight]{jacobs-logo}}%
\newrobustcmd{\setslidelogo}[1]{%
  \sbox{\slidelogo}{\includegraphics[height=\slidelogoheight]{#1}}%
}%
\def\source{Michael Kohlhase}% customize locally
\newrobustcmd{\setsource}[1]{\def\source{#1}}%
\def\copyrightnotice{\footnotesize\copyright:\hspace{.3ex}{\source}}%
\newsavebox{\cclogo}%
\sbox{\cclogo}{\includegraphics[height=\slidelogoheight]{cc_somerights}}%
\newif\ifcchref\cchreffalse%
\AtBeginDocument{%
  \@ifpackageloaded{hyperref}{\cchreftrue}{\cchreffalse}
}%
\def\licensing{%
  \ifcchref%
    \href{http://creativecommons.org/licenses/by-sa/2.5/}{\usebox{\cclogo}}%
  \else%
    {\usebox{\cclogo}}%
  \fi%
}%
\newrobustcmd{\setlicensing}[2][]{%
  \def\@url{#1}%
  \sbox{\cclogo}{\includegraphics[height=\slidelogoheight]{#2}}%
  \ifx\@url\@empty%
    \def\licensing{{\usebox{\cclogo}}}%
  \else%
    \def\licensing{%
  \ifcchref%
    \href{#1}{\usebox{\cclogo}}%
  \else%
    {\usebox{\cclogo}}%
  \fi%
    }%
  \fi%
}%
\newrobustcmd\miko@slidelabel{%
  \vbox to \slidelogoheight{%
    \vss\hbox to \slidewidth%
    {\licensing\hfill\copyrightnotice\hfill\arabic{slide}\hfill\usebox{\slidelogo}}%
  }%
}%
\AtBeginDocument{%
  \definecolor{green}{rgb}{0,.5,0}%
  \definecolor{purple}{cmyk}{.3,1,0,.17}%
}%
\def\defemph#1{{\textcolor{magenta}{#1}}}
\def\notemph#1{{\textcolor{magenta}{#1}}}
\def\stDMemph#1{{\textcolor{blue}{#1}}}
\def\@@lec#1{(\textcolor{green}{#1})}
\pgfdeclareimage[width=.9em]{miko@small@dbend}{dangerous-bend}
\def\smalltextwarning{%
  \pgfuseimage{miko@small@dbend}%
  \xspace%
}%
\pgfdeclareimage[width=1.5em]{miko@dbend}{dangerous-bend}
\newrobustcmd\textwarning{%
  \raisebox{-.05cm}{\pgfuseimage{miko@dbend}}%
  \xspace%
}%
\pgfdeclareimage[width=2.5em]{miko@big@dbend}{dangerous-bend}%
\newrobustcmd\bigtextwarning{%
  \raisebox{-.05cm}{\pgfuseimage{miko@big@dbend}}%
  \xspace%
}%
\newrobustcmd\putgraphicsat[3]{%
  \begin{picture}(0,0)\put(#1){\includegraphics[#2]{#3}}\end{picture}%
}%
\newrobustcmd\putat[2]{%
  \begin{picture}(0,0)\put(#1){#2}\end{picture}%
}%
\ifsectocframes%
  \if@part%
    \newcounter{mpart}%
    \newcounter{mchapter}%
    \newcounter{msection}[mchapter]%
  \else%
    \newcounter{msection}%
  \fi%
  \newcounter{msubsection}[msection]%
  \newcounter{msubsubsection}[msubsection]%
  \newcounter{msubsubsubsection}[msubsubsection]%
\fi% ifsectocframes
\ifnotes\else% only in slides
  \renewenvironment{omgroup}[2][]{%
    \metasetkeys{omgroup}{#1}\sref@target%
    \advance\section@level by 1%
    \ifsectocframes%
    \begin{frame}%
    \vfill\Large\centering%
    \red{%
     \ifcase\section@level\or%
        \stepcounter{mpart}Part \Roman{mpart}\or%
        \stepcounter{mchapter}Chapter \arabic{mchapter}\or
        \stepcounter{msection}\if@part\arabic{mchapter}.\fi\arabic{msection}\or
        \stepcounter{msubsection}\if@part\arabic{mchapter}.\fi\arabic{msection}.\arabic{msubsection}\or
        \stepcounter{msubsubsection}\if@part\arabic{mchapter}.\fi\arabic{msection}.\arabic{msubsection}.\arabic{msubsubsection}.\or
        \stepcounter{msubsubsubsection}\if@part\arabic{mchapter}.\fi\arabic{msection}.\arabic{msubsection}.\arabic{msubsubsection}.\arabic{msubsubsubsection}%
      \fi% end ifcase
      \quad #2%
    }%
    \vfill%
    \end{frame}%
    \fi %ifsectocframes
  }
  {\advance\section@level by -1}%
\fi% ifnotes
\expandafter\def\csname Parent2\endcsname{}
\ifnotes%
  \renewenvironment{columns}{%
    \par\noindent%
    \begin{minipage}%
    \slidewidth\centering\leavevmode%
  }{%
    \end{minipage}\par\noindent%
  }%
  \newsavebox\columnbox%
  \renewenvironment{column}[1]{%
    \begin{lrbox}{\columnbox}\begin{minipage}{#1}%
  }{%
    \end{minipage}\end{lrbox}\usebox\columnbox%
  }%
\fi%
\ifproblems%
  \newenvironment{problems}{}{}%
\else%
  \excludecomment{problems}%
\fi%
\endinput
%%
%% End of file `mikoslides.sty'.
