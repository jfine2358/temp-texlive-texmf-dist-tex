%%
%% This is file `interfaces-marks.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% interfaces.dtx  (with options: `marks')
%% 
%% This is a generated file.
%% 
%% interfaces : 2011/02/19 v3.1 - interfaces : interfaces with keys for other packages (FC)
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3 of this license or (at your option) any later
%% version. The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% 
%% This work consists of the main source file interfaces.dtx
%% and the derived files
%%     interfaces.sty, interfaces.pdf, interfaces.ins,
%%     interfaces-base.sty,
%%     interfaces-LaTeX.sty,
%%     interfaces-tikz.sty,
%%     interfaces-titlesec.sty,
%%     interfaces-hyperref.sty,
%%     interfaces-bookmark.sty,
%%     interfaces-hypbmsec.sty,
%%     interfaces-fancyhdr.sty,
%%     interfaces-marks.sty,
%%     interfaces-tocloft.sty,
%%     interfaces-makecell.sty,
%%     interfaces-enumitem.sty,
%%     interfaces-truncate.sty,
%%     interfaces-appendix.sty,
%%     interfaces-embedfile.sty,
%%     interfaces-environ.sty,
%%     interfaces-umrand.sty,
%%     interfaces-scrlfile.sty,
%%     interfaces-pgfkeys.sty,
%%     interfaces-etoolbox.sty
%% 
%% interfaces: interfaces with keys for other packages (FC)
%% Copyright (C) 2010 by Florent Chervet <florent.chervet@free.fr>
%% 
\ProvidesPackage{interfaces-marks}
   [2011/02/19 v3.1 easier use of e-TeX marks (FC)]
\RequirePackage{interfaces-base}
\newrobustcmd\marksthe[2]{%
   \ifcsname marks@#1\endcsname \else \itf@marks@new{#1}\fi
   {\toks@{#2}\expandafter\marks\csname marks@#1\endcsname{\the\toks@}}%
}% \marksthe
\newrobustcmd*\marksthecs[2]{%
   \ifcsname marks@#1\endcsname \else \itf@marks@new{#1}\fi
   \ifcsundef{#2}
      {}
      {{\toks@\expandafter\expandafter\expandafter{%
            \csname #2\endcsname}%
       \expandafter\marks\csname marks@#1\endcsname{\the\toks@}}}%
}% \marksthecs
\def\itf@marks@new#1{%
   \expandafter\newmarks\csname marks@#1\endcsname
   \PackageInfo{interfaces-marks}{marks `#1' defined}%
}% \itf@marks@new
\newcommand*\thefirstmarks[1]{\romannumeral
   \ifcsname marks@#1\endcsname \expandafter\z@
      \firstmarks\csname marks@#1\expandafter\endcsname
   \else \expandafter\z@
   \fi
}% \thefirstmarks
\newcommand*\thebotmarks[1]{\romannumeral
   \ifcsname marks@#1\endcsname \expandafter\z@
      \botmarks\csname marks@#1\expandafter\endcsname
   \else \expandafter\z@
   \fi
}% \thebotmarks
\newcommand*\thetopmarks[1]{\romannumeral
   \ifcsname marks@#1\endcsname \expandafter\z@
      \topmarks\csname marks@#1\expandafter\endcsname
   \else \expandafter\z@
   \fi
}% \thetopmarks
%% \getthemarks\firstmarks{section}\macro
\newrobustcmd*\getthemarks[3]{%
   \ifcsname marks@#2\endcsname
      \edef#3{\unexpanded\expandafter{#1\csname marks@#2\endcsname}}%
   \else \let#3\@undefined
   \fi
}% \getthemarks
\newrobustcmd*\getthefirstmarks{\getthemarks\firstmarks}
\newrobustcmd*\getthebotmarks{\getthemarks\botmarks}
\newrobustcmd*\getthetopmarks{\getthemarks\topmarks}
%% \ifmarksequal\firstmarks\botmarks{subsection}{ true }{ false }
\newrobustcmd*\ifmarksequal[3]{%
   \begingroup
      \getthemarks{#1}{#3}\x
      \getthemarks{#2}{#3}\y
   \expandafter\endgroup
   \csname ltx@\ifdefined\x\ifdefined\y
      \ifx\x\y first\else
      second\fi\else second\fi\else second\fi
   oftwo\endcsname
}% \ifmarksequal
\endinput
%%
%% End of file `interfaces-marks.sty'.
