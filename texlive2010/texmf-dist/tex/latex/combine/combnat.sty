%%
%% This is file `combnat.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% combine.dtx  (with options: `natpack')
%% 
%%   Author: Peter Wilson, Herries Press
%%   Maintainer: Will Robertson (will dot robertson at latex-project dot org)
%%   Copyright 2000, 2001, 2002, 2003 Peter R. Wilson
%%   Copyright 2010 Will Robertson
%% 
%%   This work may be distributed and/or modified under the
%%   conditions of the LaTeX Project Public License, either
%%   version 1.3c of this license or (at your option) any
%%   later version: <http://www.latex-project.org/lppl.txt>
%% 
%%   This work has the LPPL maintenance status "maintained".
%%   The Current Maintainer of this work is Will Robertson.
%% 
%%   This work consists of the files listed in the README file.
%% 
\ProvidesPackage{combnat}
  [2010/07/10 v0.7a
          combine version of natbib package
  ]
\@ifclassloaded{combine}{}{%
  \PackageError{combnat}{The `combine' class is expected}{\@ehc}}
\RequirePackageWithOptions{natbib}
\newcommand{\c@lNATwritemainbib}{%
  \if@filesw\immediate\write\@mainaux{\string\citation{\@citeb}}\fi
  \@ifundefined{b@\@citeb\@extra@b@citeb}{%
    {\reset@font\bfseries?}
     \NAT@citeundefined\PackageWarning{natbib}%
    {Citation `\@citeb' on page \thepage \space undefined}}}

\newcommand{\c@lNATwritemainbibdate}{%
  \if@filesw\immediate\write\@mainaux{\string\citation{\@citeb}}\fi
  \@ifundefined{b@\@citeb\@extra@b@citeb}{\@citea%
    {\reset@font\bfseries ?}\NAT@citeundefined
     \PackageWarning{natbib}%
       {Citation `\@citeb' on page \thepage \space undefined}
     \def\NAT@date{}}}

\newcommand{\c@lNATwritelocalbib}{%
  \if@filesw\immediate\write\@auxout{\string\citation{\@citeb}}\fi
  \@ifundefined{B?\jobname?@\@citeb\@extra@b@citeb}{%
    {\reset@font\bfseries?}
     \NAT@citeundefined\PackageWarning{natbib}%
    {Citation `\@citeb' on page \thepage \space undefined}}}

\newcommand{\c@lNATwritelocalbibdate}{%
  \if@filesw\immediate\write\@auxout{\string\citation{\@citeb}}\fi
  \@ifundefined{B?\jobname?@\@citeb\@extra@b@citeb}{\@citea%
    {\reset@font\bfseries ?}\NAT@citeundefined
     \PackageWarning{natbib}%
       {Citation `\@citeb' on page \thepage \space undefined}
     \def\NAT@date{}}}

\newcommand{\c@lNAT@citexnum@swatrue}{%
  \ifnum\NAT@ctype>1\relax\@citea
    \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
        \ifnum\NAT@ctype=2\relax\NAT@test{\NAT@ctype}%
        \else\NAT@alias
        \fi\hyper@natlinkend\else
    \ifnum\NAT@sort>1\relax
      \begingroup\catcode`\_=8
        \ifcat _\ifnum\z@<0\NAT@num _\else A\fi
          \global\let\NAT@nm=\NAT@num \else \gdef\NAT@nm{-2}\fi
        \ifcat _\ifnum\z@<0\NAT@last@num _\else A\fi
          \global\@tempcnta=\NAT@last@num \global\advance\@tempcnta by\@ne
          \else \global\@tempcnta\m@ne\fi
      \endgroup
      \ifnum\NAT@nm=\@tempcnta
        \ifx\NAT@last@yr\relax
          \edef\NAT@last@yr{\@citea \mbox{\noexpand\citenumfont\NAT@num}}%
        \else
          \edef\NAT@last@yr{--\penalty\@m\mbox{\noexpand\citenumfont\NAT@num}}%
        \fi
      \else
        \NAT@last@yr \@citea \mbox{\citenumfont\NAT@num}%
        \let\NAT@last@yr\relax
      \fi
    \else
      \@citea \mbox{\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
        {\citenumfont\NAT@num}\hyper@natlinkend}%
    \fi
  \fi
  \def\@citea{\NAT@sep\penalty\@m\NAT@space}%
}

\def\NAT@citexnum[#1][#2]#3{%
  \NAT@sort@cites{#3}%
  \let\@citea\@empty
  \@cite{\def\NAT@num{-1}\let\NAT@last@yr\relax\let\NAT@nm\@empty
    \@for\@citeb:=\NAT@cite@list\do
      {\edef\@citeb{\expandafter\@firstofone\@citeb}%
       \c@lNATwritemainbib   %%% change here
       {\let\NAT@last@num\NAT@num\let\NAT@last@nm\NAT@nm
        \NAT@parse{\@citeb}%
        \ifNAT@longnames\@ifundefined{bv@\@citeb\@extra@b@citeb}{%
            \let\NAT@name=\NAT@all@names
            \global\@namedef{bv@\@citeb\@extra@b@citeb}{}}{}%
        \fi
        \ifNAT@full\let\NAT@nm\NAT@all@names\else
          \let\NAT@nm\NAT@name
        \fi
      \ifNAT@swa
        \c@lNAT@citexnum@swatrue
      \else
        \ifcase\NAT@ctype\relax
          \ifx\NAT@last@nm\NAT@nm \NAT@yrsep\penalty\@m\NAT@space\else
          \@citea \NAT@test{1}\ \NAT@@open
          \if*#1*\else#1\ \fi\fi \NAT@mbox{%
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          {\citenumfont\NAT@num}\hyper@natlinkend}%
          \def\@citea{\NAT@@close\NAT@sep\penalty\@m\ }%
        \or\@citea
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
           \NAT@test{\NAT@ctype}\hyper@natlinkend
          \def\@citea{\NAT@sep\penalty\@m\ }%
        \or\@citea
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
           \NAT@test{\NAT@ctype}\hyper@natlinkend
          \def\@citea{\NAT@sep\penalty\@m\ }%
        \or\@citea
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
           \NAT@alias\hyper@natlinkend
          \def\@citea{\NAT@sep\penalty\@m\ }%
        \fi
      \fi
      }}%
      \ifnum\NAT@sort>1\relax\NAT@last@yr\fi
      \ifNAT@swa\else\ifnum\NAT@ctype=0\if*#2*\else
      \NAT@cmt#2\fi \NAT@@close\fi\fi}{#1}{#2}}

\def\c@lbNAT@citexnum[#1][#2]#3{%
  \ifc@lcombib\c@laNATnocite{#3}\fi   %%% change here
  \NAT@sort@cites{#3}%
  \let\@citea\@empty
  \@cite{\def\NAT@num{-1}\let\NAT@last@yr\relax\let\NAT@nm\@empty
    \@for\@citeb:=\NAT@cite@list\do
    {\edef\@citeb{\expandafter\@firstofone\@citeb}%
     \c@lNATwritelocalbib             %%% change here
     {\let\NAT@last@num\NAT@num\let\NAT@last@nm\NAT@nm
      \NAT@parse{\@citeb}%
      \ifNAT@longnames\@ifundefined{bv@\@citeb\@extra@b@citeb}{%
        \let\NAT@name=\NAT@all@names
        \global\@namedef{bv@\@citeb\@extra@b@citeb}{}}{}%
      \fi
      \ifNAT@full\let\NAT@nm\NAT@all@names\else
        \let\NAT@nm\NAT@name\fi
      \ifNAT@swa
        \c@lNAT@citexnum@swatrue
      \else
        \ifcase\NAT@ctype\relax
          \ifx\NAT@last@nm\NAT@nm \NAT@yrsep\penalty\@m\NAT@space\else
          \@citea \NAT@test{1}\ \NAT@@open
          \if*#1*\else#1\ \fi\fi \NAT@mbox{%
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          {\citenumfont\NAT@num}\hyper@natlinkend}%
          \def\@citea{\NAT@@close\NAT@sep\penalty\@m\ }%
        \or\@citea
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@test{\NAT@ctype}\hyper@natlinkend
          \def\@citea{\NAT@sep\penalty\@m\ }%
        \or\@citea
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@test{\NAT@ctype}\hyper@natlinkend
          \def\@citea{\NAT@sep\penalty\@m\ }%
        \or\@citea
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@alias\hyper@natlinkend
          \def\@citea{\NAT@sep\penalty\@m\ }%
        \fi\fi
      }}%
      \ifnum\NAT@sort>1\relax\NAT@last@yr\fi
      \ifNAT@swa\else\ifnum\NAT@ctype=0\if*#2*\else
      \NAT@cmt#2\fi \NAT@@close\fi\fi}{#1}{#2}}

\newcommand{\c@lNAT@citex@swatrue}{%
  \ifcase\NAT@ctype
    \if\relax\NAT@date\relax
      \@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
      \NAT@nmfmt{\NAT@nm}\NAT@date\hyper@natlinkend
    \else
      \ifx\NAT@last@nm\NAT@nm\NAT@yrsep
        \ifx\NAT@last@yr\NAT@year
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}\NAT@exlab
          \hyper@natlinkend
        \else
          \unskip\
          \hyper@natlinkstart{\@citeb\@extra@b@citeb}\NAT@date
          \hyper@natlinkend
        \fi
      \else\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
        \NAT@nmfmt{\NAT@nm}%
        \hyper@natlinkbreak{\NAT@aysep\ }{\@citeb\@extra@b@citeb}%
        \NAT@date\hyper@natlinkend
      \fi
    \fi
  \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
     \NAT@nmfmt{\NAT@nm}\hyper@natlinkend
  \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
     \NAT@date\hyper@natlinkend
  \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
     \NAT@alias\hyper@natlinkend
  \fi \def\@citea{\NAT@sep\ }%
}

\def\NAT@citex%
  [#1][#2]#3{%
  \NAT@sort@cites{#3}%
  \let\@citea\@empty
  \@cite{\let\NAT@nm\@empty\let\NAT@year\@empty
    \@for\@citeb:=\NAT@cite@list\do
    {\edef\@citeb{\expandafter\@firstofone\@citeb}%
     \c@lNATwritemainbibdate     %%%% change here
     {\let\NAT@last@nm=\NAT@nm\let\NAT@last@yr=\NAT@year
     \NAT@parse{\@citeb}%
     \ifNAT@longnames\@ifundefined{bv@\@citeb\@extra@b@citeb}{%
         \let\NAT@name=\NAT@all@names
         \global\@namedef{bv@\@citeb\@extra@b@citeb}{}}{}%
     \fi
     \ifNAT@full\let\NAT@nm\NAT@all@names\else
       \let\NAT@nm\NAT@name\fi
     \ifNAT@swa
       \c@lNAT@citex@swatrue
     \else
       \ifcase\NAT@ctype
         \if\relax\NAT@date\relax
           \@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
           \NAT@nmfmt{\NAT@nm}\hyper@natlinkend
         \else
           \ifx\NAT@last@nm\NAT@nm\NAT@yrsep
             \ifx\NAT@last@yr\NAT@year
               \hyper@natlinkstart{\@citeb\@extra@b@citeb}\NAT@exlab
               \hyper@natlinkend
             \else\unskip\
               \hyper@natlinkstart{\@citeb\@extra@b@citeb}\NAT@date
               \hyper@natlinkend
             \fi
           \else\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
             \NAT@nmfmt{\NAT@nm}%
             \hyper@natlinkbreak{\ \NAT@@open\if*#1*\else#1\ \fi}%
                {\@citeb\@extra@b@citeb}%
             \NAT@date\hyper@natlinkend\fi
        \fi
       \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@nmfmt{\NAT@nm}\hyper@natlinkend
       \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@date\hyper@natlinkend
       \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@alias\hyper@natlinkend
       \fi  \if\relax\NAT@date\relax\def\@citea{\NAT@sep\ }%
            \else\def\@citea{\NAT@@close\NAT@sep\ }\fi
     \fi
     }}\ifNAT@swa\else\if*#2*\else\NAT@cmt#2\fi
    \if\relax\NAT@date\relax\else\NAT@@close\fi\fi}{#1}{#2}}

\def\c@lbNAT@citex[#1][#2]#3{%
  \ifc@lcombib \c@laNATnocite{#3} \fi    %%%% change here
  \NAT@sort@cites{#3}%
  \let\@citea\@empty
  \@cite{\let\NAT@nm\@empty\let\NAT@year\@empty
    \@for\@citeb:=\NAT@cite@list\do
    {\edef\@citeb{\expandafter\@firstofone\@citeb}%
     \c@lNATwritelocalbibdate            %%%% change here
     {\let\NAT@last@nm=\NAT@nm\let\NAT@last@yr=\NAT@year
     \NAT@parse{\@citeb}%
     \ifNAT@longnames\@ifundefined{bv@\@citeb\@extra@b@citeb}{%
         \let\NAT@name=\NAT@all@names
         \global\@namedef{bv@\@citeb\@extra@b@citeb}{}}{}%
     \fi
     \ifNAT@full\let\NAT@nm\NAT@all@names\else
       \let\NAT@nm\NAT@name\fi
     \ifNAT@swa
       \c@lNAT@citex@swatrue
     \else
       \ifcase\NAT@ctype
         \if\relax\NAT@date\relax
           \@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
           \NAT@nmfmt{\NAT@nm}\hyper@natlinkend
         \else
           \ifx\NAT@last@nm\NAT@nm\NAT@yrsep
             \ifx\NAT@last@yr\NAT@year
               \hyper@natlinkstart{\@citeb\@extra@b@citeb}\NAT@exlab
               \hyper@natlinkend
             \else\unskip\
               \hyper@natlinkstart{\@citeb\@extra@b@citeb}\NAT@date
               \hyper@natlinkend
             \fi
           \else\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
             \NAT@nmfmt{\NAT@nm}%
             \hyper@natlinkbreak{\ \NAT@@open\if*#1*\else#1\ \fi}%
                {\@citeb\@extra@b@citeb}%
             \NAT@date\hyper@natlinkend\fi
        \fi
       \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@nmfmt{\NAT@nm}\hyper@natlinkend
       \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@date\hyper@natlinkend
       \or\@citea\hyper@natlinkstart{\@citeb\@extra@b@citeb}%
          \NAT@alias\hyper@natlinkend
       \fi \if\relax\NAT@date\relax\def\@citea{\NAT@sep\ }%
           \else\def\@citea{\NAT@@close\NAT@sep\ }\fi
     \fi
     }}\ifNAT@swa\else\if*#2*\else\NAT@cmt#2\fi
    \if\relax\NAT@date\relax\else\NAT@@close\fi\fi}{#1}{#2}}

\newcommand\c@laNATnocite[1]{\@bsphack
  \@for\@citeb:=#1\do{%
    \edef\@citeb{\expandafter\@firstofone\@citeb}%
    \if@filesw\immediate\write\@mainaux{\string\citation{\@citeb}}\fi
    \if*\@citeb\else
    \@ifundefined{b@\@citeb\@extra@b@citeb}{%
       \NAT@citeundefined \PackageWarning{natbib}%
       {Citation `\@citeb' undefined}}{}\fi}%
  \@esphack}
\renewcommand{\nocite}[1]{\c@laNATnocite{#1}}

\newcommand\c@lbNATnocite[1]{\@bsphack
  \@for\@citeb:=#1\do{%
    \edef\@citeb{\expandafter\@firstofone\@citeb}%
    \if@filesw\immediate\write\@auxout{\string\citation{\@citeb}}\fi
    \if*\@citeb\else
    \@ifundefined{B?\jobname?@\@citeb\@extra@b@citeb}{%
       \NAT@citeundefined \PackageWarning{natbib}%
       {Citation `\@citeb' undefined}}{}\fi}%
  \@esphack}

\renewcommand{\NAT@wrout}[5]{%
  \if@filesw
    {\let\protect\noexpand\let~\relax
     \immediate
     \write\@mainaux{\string\bibcite{#5}{{#1}{#2}{{#3}}{{#4}}}}}\fi
\ignorespaces}

\newcommand{\c@lbNAT@wrout}[5]{%
  \if@filesw
    {\let\protect\noexpand\let~\relax
     \immediate
     \write\@auxout{\string\bibcite{#5}{{#1}{#2}{{#3}}{{#4}}}}}\fi
\ignorespaces}

\newcommand\c@laNAT@parse[1]{{%
     \let\protect=\@unexpandable@protect\let~\relax
     \let\active@prefix=\@gobble
     \xdef\NAT@temp{\csname b@#1\@extra@b@citeb\endcsname}}%
     \expandafter\NAT@split\NAT@temp?????@@%
     \expandafter\NAT@parse@date\NAT@date??????@@%
     \ifciteindex\NAT@index\fi}

\newcommand\c@lbNAT@parse[1]{{%
     \let\protect=\@unexpandable@protect\let~\relax
     \let\active@prefix=\@gobble
     \xdef\NAT@temp{\csname B?\jobname?@#1\@extra@b@citeb\endcsname}}%
     \expandafter\NAT@split\NAT@temp?????@@%
     \expandafter\NAT@parse@date\NAT@date??????@@%
     \ifciteindex\NAT@index\fi}

\def\c@laNAT@lbibitem[#1]#2{%
  \if\relax\@extra@b@citeb\relax\else
    \@ifundefined{br@#2\@extra@b@citeb}{}{%
     \@namedef{br@#2}{\@nameuse{br@#2\@extra@b@citeb}}}\fi
   \@ifundefined{b@#2\@extra@b@citeb}{\def\NAT@num{}}{\NAT@parse{#2}}%
   \item[\hfil\hyper@natanchorstart{#2\@extra@b@citeb}\@biblabel{\NAT@num}%
    \hyper@natanchorend]%
    \NAT@ifcmd#1(@)(@)\@nil{#2}}

\def\c@lbNAT@lbibitem[#1]#2{%
  \if\relax\@extra@b@citeb\relax\else
    \@ifundefined{br@#2\@extra@b@citeb}{}{%
     \@namedef{br@#2}{\@nameuse{br@#2\@extra@b@citeb}}}\fi
   \@ifundefined{B?\jobname?@#2\@extra@b@citeb}{\def\NAT@num{}}{\NAT@parse{#2}}%
   \item[\hfil\hyper@natanchorstart{#2\@extra@b@citeb}\@biblabel{\NAT@num}%
    \hyper@natanchorend]%
    \NAT@ifcmd#1(@)(@)\@nil{#2}}

\newcommand\c@laNATbibcite[2]{\@ifundefined{b@#1\@extra@binfo}\relax
  {\NAT@citemultiple
  \PackageWarningNoLine{natbib}{Citation `#1' multiply defined}}%
  \global\@namedef{b@#1\@extra@binfo}{#2}}

\newcommand\c@lbNATbibcite[2]{\@ifundefined{B?\jobname?@#1\@extra@binfo}\relax
  {\NAT@citemultiple
  \PackageWarningNoLine{natbib}{Citation `#1' multiply defined}}%
  \global\@namedef{B?\jobname?@#1\@extra@binfo}{#2}}

\ifc@lonebib
  \ifc@lcombib
  \else
    \renewcommand\c@lbNATbibcite[2]{\@ifundefined{b@#1\@extra@binfo}\relax
      {\NAT@citemultiple
      \PackageWarningNoLine{natbib}{Citation `#1' multiply defined}}%
      \global\@namedef{B?\jobname?@#1\@extra@binfo}{#2}}
  \fi
\fi

\newcommand\c@laNAT@testdef[2]{%
  \def\NAT@temp{#2}\expandafter \ifx \csname b@#1\@extra@binfo\endcsname
    \NAT@temp \else \ifNAT@swa \NAT@swafalse
       \PackageWarningNoLine{natbib}{Citation(s) may have
          changed.\MessageBreak
          Rerun to get citations correct}\fi\fi}

\newcommand\c@lbNAT@testdef[2]{%
  \def\NAT@temp{#2}\expandafter \ifx \csname B?\jobname?@#1\@extra@binfo\endcsname
    \NAT@temp \else \ifNAT@swa \NAT@swafalse
       \PackageWarningNoLine{natbib}{Citation(s) may have
          changed.\MessageBreak
          Rerun to get citations correct}\fi\fi}

\ifnum\NAT@sort>0
  \begingroup \catcode`\_=8
    \gdef\c@laNAT@make@cite@list{%
      \edef\@citeb{\expandafter\@firstofone\@citeb}%
      \@ifundefined{b@\@citeb\@extra@b@citeb}{\def\NAT@num{A}}%
      {\NAT@parse{\@citeb}}%
        \ifcat _\ifnum\z@<0\NAT@num _\else A\fi
       \@tempcnta\NAT@num \relax
       \ifnum \@tempcnta>\@tempcntb
          \edef\NAT@num@list{\NAT@num@list \@celt{\NAT@num}}%
          \edef\NAT@cite@list{\NAT@cite@list\@citeb,}%
          \@tempcntb\@tempcnta
       \else
          \let\NAT@@cite@list=\NAT@cite@list \def\NAT@cite@list{}%
          \edef\NAT@num@list{\expandafter\NAT@num@celt \NAT@num@list \@gobble @}%
          {\let\@celt=\NAT@celt\NAT@num@list}%
       \fi
    \else
       \edef\NAT@nonsort@list{\NAT@nonsort@list\@citeb,}%
 \fi}
 \endgroup

 \begingroup \catcode`\_=8
   \gdef\c@lbNAT@make@cite@list{%
     \edef\@citeb{\expandafter\@firstofone\@citeb}%
    \@ifundefined{B?\jobname?@\@citeb\@extra@b@citeb}{\def\NAT@num{A}}%
    {\NAT@parse{\@citeb}}%
      \ifcat _\ifnum\z@<0\NAT@num _\else A\fi
       \@tempcnta\NAT@num \relax
       \ifnum \@tempcnta>\@tempcntb
          \edef\NAT@num@list{\NAT@num@list \@celt{\NAT@num}}%
          \edef\NAT@cite@list{\NAT@cite@list\@citeb,}%
          \@tempcntb\@tempcnta
       \else
          \let\NAT@@cite@list=\NAT@cite@list \def\NAT@cite@list{}%
          \edef\NAT@num@list{\expandafter\NAT@num@celt \NAT@num@list \@gobble @}%
          {\let\@celt=\NAT@celt\NAT@num@list}%
       \fi
    \else
       \edef\NAT@nonsort@list{\NAT@nonsort@list\@citeb,}%
 \fi}
  \endgroup
\fi

\AtEndDocument{%
  \ifNAT@stdbst\if@filesw\immediate\write
    \@mainaux{\string\global\string\NAT@numberstrue}\fi\fi
  }

\AtEndDocument{\NAT@swatrue\let\bibcite\NAT@testdef}

\newcommand{\c@laNAT@set@cites}{\ifNAT@numbers
  \ifNAT@super \let\@cite\NAT@citesuper
      \def\NAT@mbox##1{\unskip\nobreak\hspace{1\p@}\textsuperscript{##1}}%
      \let\citeyearpar=\citeyear
      \let\NAT@space\relax\else
      \let\NAT@mbox=\mbox
      \let\@cite\NAT@citenum \def\NAT@space{ }\fi
    \let\@citex\NAT@citexnum
    \ifx\@biblabel\@empty\let\@biblabel\NAT@biblabelnum\fi
    \let\@bibsetup\NAT@bibsetnum
    \def\natexlab##1{}%
  \else
    \let\@cite\NAT@cite
    \let\@citex\NAT@citex
    \let\@biblabel\NAT@biblabel
    \let\@bibsetup\NAT@bibsetup
    \def\natexlab##1{##1}%
  \fi}

\newcommand{\c@lbNAT@set@cites}{\ifNAT@numbers
  \ifNAT@super \let\@cite\NAT@citesuper
      \def\NAT@mbox##1{\unskip\nobreak\hspace{1\p@}\textsuperscript{##1}}%
      \let\citeyearpar=\citeyear
      \let\NAT@space\relax\else
      \let\NAT@mbox=\mbox
      \let\@cite\NAT@citenum \def\NAT@space{ }\fi
    \let\@citex\NAT@citexnum
    \ifx\@biblabel\@empty\let\@biblabel\NAT@biblabelnum\fi
    \let\@bibsetup\NAT@bibsetnum
    \def\natexlab##1{}%
  \else
    \let\@cite\NAT@cite
    \let\@citex\NAT@citex
    \let\@biblabel\NAT@biblabel
    \let\@bibsetup\NAT@bibsetup
    \def\natexlab##1{##1}%
  \fi}

\let\NAT@parse\c@laNAT@parse
%%\let\nocite\c@laNATnocite
%%\let\NAT@wrout\c@laNAT@wrout
\let\@lbibitem\c@laNAT@lbibitem
\let\bibcite\c@laNATbibcite
\let\NAT@testdef\c@laNAT@testdef
%%\let\NAT@make@cite@list\c@laNAT@make@cite@list
%%\let\NAT@citexnum\c@laNAT@citexnum
%%\let\NAT@citex\c@laNAT@citex

\let\c@loldsetuppapers\setuppapers
\newcommand{\c@lNATsetuplocal}{%
  \let\NAT@parse\c@lbNAT@parse
  \let\nocite\c@lbNATnocite
  \let\NAT@wrout\c@lbNAT@wrout
  \let\@lbibitem\c@lbNAT@lbibitem
  \let\bibcite\c@lbNATbibcite
  \let\NAT@testdef\c@lbNAT@testdef
  \let\NAT@make@cite@list\c@lbNAT@make@cite@list
  \let\NAT@citexnum\c@lbNAT@citexnum
  \let\NAT@citex\c@lbNAT@citex
  \let\NAT@set@cites\c@lbNAT@set@cites
  \c@lbNAT@set@cites
}
\renewcommand{\setuppapers}{%
  \c@loldsetuppapers
  \ifc@lcombib
    \c@lNATsetuplocal
  \else
    \ifc@lonebib
    \else
      \c@lNATsetuplocal
    \fi
  \fi
}

\endinput
%%
%% End of file `combnat.sty'.
