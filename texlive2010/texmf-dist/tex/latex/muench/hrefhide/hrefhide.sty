%%
%% This is file `hrefhide.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% hrefhide.dtx  (with options: `package')
%% 
%% This is a generated file.
%% 
%% IMPORTANT NOTICE:
%% The package takes options.
%% 
%% The usual disclaimers apply:
%% If it doesn't work right that's your problem.
%% (Nevertheless, send an e-mail to the maintainer
%%  when you find an error in this package.)
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3c of this license or (at your option) any later
%% version. This version of this license is in
%%    http://www.latex-project.org/lppl/lppl-1-3c.txt
%% and the latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% The Current Maintainer of this work is H.-Martin Muench
%% (Martin dot Muench at Uni-Bonn dot de).
%% 
%% This work consists of the main source file hrefhide.dtx
%% and the derived files
%%    hrefhide.sty, hrefhide.pdf, hrefhide.ins, hrefhide.drv,
%%    hrefhide-example.tex.
%% 
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{hrefhide}[2010/06/24 v1.0c
            Hiding hyperrefs when printing pdf files (HMM)]%

%% Allows to "hide" hyperlinked text in a pdf file when printing
%% ("Klick here" does not work on real paper)
%% by providing the command \hrefdisplayonly.

\RequirePackage{color}[2005/11/14]% v1.0j, from the graphics bundle
\RequirePackage{hyperref}[2010/06/04]% v6.81f
\RequirePackage{kvoptions}[2010/02/22]% v3.7
%% hrefhide may work with earlier versions of those packages,
%% but this was not tested. Please consider updating your packages
%% to the most recent version (if they are not already the most
%% recent version).

\SetupKeyvalOptions{family = hrefhide, prefix = hrefhide@}
\DeclareStringOption[black]{linktextcolour}[black]
\DeclareStringOption[white]{backgroundcolour}[white]
\DeclareStringOption[{0 0 1}]{pdfborder}[{0 0 1}]

\ProcessKeyvalOptions*

\newcommand{\hycon}{%
  \relax%
  }

\newcommand{\hycoff}{%
  \hypersetup{linkcolor=\hrefhide@linktextcolour}%
  \def\@pdfborder{\hrefhide@pdfborder}%
  \Hy@Info{Link coloring OFF (sort of; hrefhide package)}%
  }

\newcommand{\hrefdisplayonly}[2]{%
  \hycon%
  {\color{\hrefhide@backgroundcolour} \href{#1}{#2}}%
  \hycoff%
  }

\AtBeginDocument{
  \ifHy@ocgcolorlinks \relax
  \else
    \PackageError{hrefhide}{hyperref package missing option ocgcolorlinks}{%
      The package hrefhide needs the hyperref package\MessageBreak%
      with option ocgcolorlinks.\MessageBreak%
      That option is missing!\MessageBreak%
      Now the link(s) will be ''hidden'' in pdf view also.\MessageBreak%
      }
  \fi
  \def\hrefhide@driver{hpdftex}
  \ifx\Hy@driver\hrefhide@driver \relax
  \else
    \PackageError{hrefhide}{Producing not a pdf file}{%
      The package hrefhide only works for a pdf file,\MessageBreak%
      but driver \Hy@driver\space instead of \hrefhide@driver\space  was found.\MessageBreak%
      Use pdfLaTeX to compile your document.\MessageBreak%
      (No large harm was done, but the respective\MessageBreak%
       link text will neither be hidden when printing.)\MessageBreak%
      }
  \fi
  \hycoff
  }

\endinput
%%
%% End of file `hrefhide.sty'.
